# API Specification - Hệ Thống Quản Lý Học Sinh

---

## Thông Tin Tài Liệu

**Dự án:** Hệ Thống Quản Lý Học Sinh  
**API Version:** v1  
**Base URL:** `http://localhost:3000/api`  
**Production URL:** `https://your-domain.com/api`  
**Ngày tạo:** 31/01/2026  
**Trạng thái:** Draft

---

## Mục Lục

1. [API Overview](#1-api-overview)
2. [Authentication](#2-authentication)
3. [Error Handling](#3-error-handling)
4. [Rate Limiting](#4-rate-limiting)
5. [Endpoints](#5-endpoints)
   - [5.1 Authentication APIs](#51-authentication-apis)
   - [5.2 Student Management APIs](#52-student-management-apis)
   - [5.3 Score Management APIs](#53-score-management-apis)
   - [5.4 Subject APIs](#54-subject-apis)
   - [5.5 Analytics & Reports APIs](#55-analytics--reports-apis)
   - [5.6 Import/Export APIs](#56-importexport-apis)
6. [Data Models](#6-data-models)
7. [Status Codes](#7-status-codes)
8. [Examples](#8-examples)

---

## 1. API Overview

### 1.1 General Information

- **Protocol:** HTTPS (HTTP for development)
- **Format:** JSON
- **Encoding:** UTF-8
- **Authentication:** JWT Bearer Token
- **API Style:** RESTful

### 1.2 Request Headers

```http
Content-Type: application/json
Accept: application/json
Authorization: Bearer {token}
```

### 1.3 Response Format

**Success Response:**
```json
{
  "success": true,
  "data": { ... },
  "message": "Operation successful"
}
```

**Error Response:**
```json
{
  "status": "error",
  "statusCode": 400,
  "message": "Error description",
  "errors": [
    {
      "path": "field.name",
      "message": "Specific validation message"
    }
  ]
}
```

### 1.4 Pagination

**Request:**
```
GET /api/students?page=1&limit=20
```

**Response:**
```json
{
  "success": true,
  "data": {
    "items": [...],
    "pagination": {
      "page": 1,
      "limit": 20,
      "total": 100,
      "totalPages": 5,
      "hasNext": true,
      "hasPrev": false
    }
  }
}
```

---

## 2. Authentication

### 2.1 JWT Token Structure

**Header:**
```json
{
  "alg": "HS256",
  "typ": "JWT"
}
```

**Payload:**
```json
{
  "id": 1,
  "username": "teacher01",
  "role": "teacher",
  "iat": 1706745600,
  "exp": 1707350400
}
```

### 2.2 Token Usage

**Request Header:**
```http
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### 2.3 Token Expiration

- **Access Token:** 7 days
- **Refresh Token:** (Future implementation)

---

## 3. Error Handling

### 3.1 Error Response Structure

```json
{
  "status": "error",
  "statusCode": 400,
  "message": "Validation Error",
  "errors": [
    {
      "path": "studentCode",
      "message": "Mã học sinh đã tồn tại"
    },
    {
      "path": "dateOfBirth",
      "message": "Ngày sinh không hợp lệ"
    }
  ]
}
```

### 3.2 Error Codes

| Code | Description | HTTP Status |
|------|-------------|-------------|
| `AUTH_REQUIRED` | Yêu cầu đăng nhập | 401 |
| `INVALID_TOKEN` | Token không hợp lệ | 401 |
| `TOKEN_EXPIRED` | Token hết hạn | 401 |
| `FORBIDDEN` | Không có quyền truy cập | 403 |
| `NOT_FOUND` | Không tìm thấy resource | 404 |
| `VALIDATION_ERROR` | Lỗi validate dữ liệu | 400 |
| `DUPLICATE_ERROR` | Dữ liệu bị trùng | 409 |
| `SERVER_ERROR` | Lỗi server | 500 |
| `DATABASE_ERROR` | Lỗi database | 500 |

---

## 4. Rate Limiting

### 4.1 Limits

- **General APIs:** 100 requests/minute/IP
- **Login API:** 5 requests/minute/IP
- **Import APIs:** 10 requests/hour/user

### 4.2 Rate Limit Headers

```http
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 95
X-RateLimit-Reset: 1706745660
```

### 4.3 Rate Limit Exceeded Response

```json
{
  "success": false,
  "error": {
    "code": "RATE_LIMIT_EXCEEDED",
    "message": "Too many requests. Please try again later.",
    "retryAfter": 60
  }
}
```

---

## 5. Endpoints

---

## 5.1 Authentication APIs

### 5.1.1 Login

**Endpoint:** `POST /api/auth/login`  
**Description:** Đăng nhập hệ thống  
**Authentication:** None

#### Request

```http
POST /api/auth/login
Content-Type: application/json

{
  "username": "teacher01",
  "password": "password123"
}
```

**Request Body Schema:**

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| username | string | Yes | Tên đăng nhập |
| password | string | Yes | Mật khẩu (min 6 chars) |

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 1,
      "username": "teacher01",
      "full_name": "Nguyễn Văn A",
      "email": "teacher@school.edu.vn",
      "role": "teacher"
    }
  },
  "message": "Đăng nhập thành công"
}
```

**Error Responses:**

**400 Bad Request - Missing Fields:**
```json
{
  "status": "error",
  "statusCode": 400,
  "message": "Username và password là bắt buộc"
}
```

**401 Unauthorized - Invalid Credentials:**
```json
{
  "status": "error",
  "statusCode": 401,
  "message": "Tên đăng nhập hoặc mật khẩu không đúng"
}
```

**403 Forbidden - Account Locked:**
```json
{
  "status": "error",
  "statusCode": 403,
  "message": "Tài khoản đã bị khóa do đăng nhập sai quá nhiều lần"
}
```

---

### 5.1.2 Logout

**Endpoint:** `POST /api/auth/logout`  
**Description:** Đăng xuất khỏi hệ thống  
**Authentication:** Required

#### Request

```http
POST /api/auth/logout
Authorization: Bearer {token}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "message": "Đăng xuất thành công"
}
```

---

### 5.1.3 Forgot Password

**Endpoint:** `POST /api/auth/forgot-password`  
**Description:** Yêu cầu reset mật khẩu  
**Authentication:** None

#### Request

```http
POST /api/auth/forgot-password
Content-Type: application/json

{
  "email": "teacher@school.edu.vn"
}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "message": "Email reset mật khẩu đã được gửi"
}
```

**Note:** Luôn trả về success để bảo mật (không tiết lộ email có tồn tại hay không)

---

### 5.1.4 Reset Password

**Endpoint:** `POST /api/auth/reset-password`  
**Description:** Đặt mật khẩu mới  
**Authentication:** None

#### Request

```http
POST /api/auth/reset-password
Content-Type: application/json

{
  "token": "reset_token_from_email",
  "password": "newpassword123",
  "confirmPassword": "newpassword123"
}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "message": "Mật khẩu đã được đặt lại thành công"
}
```

**Error (400 Bad Request - Token Expired):**

```json
{
  "status": "error",
  "statusCode": 401,
  "message": "Link reset mật khẩu đã hết hạn"
}
```

---

### 5.1.5 Get Current User

**Endpoint:** `GET /api/auth/me`  
**Description:** Lấy thông tin user hiện tại  
**Authentication:** Required

#### Request

```http
GET /api/auth/me
Authorization: Bearer {token}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": {
    "id": 1,
    "username": "teacher01",
    "full_name": "Nguyễn Văn A",
    "email": "teacher@school.edu.vn",
    "role": "teacher",
    "created_at": "2025-01-01T00:00:00.000Z"
  }
}
```

---

## 5.2 Student Management APIs

### 5.2.1 Get All Students

**Endpoint:** `GET /api/students`  
**Description:** Lấy danh sách học sinh  
**Authentication:** Required

#### Request

```http
GET /api/students?page=1&limit=20&search=nguyen&gender=Nam&sortBy=full_name&order=asc
Authorization: Bearer {token}
```

**Query Parameters:**

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| page | integer | No | 1 | Số trang |
| limit | integer | No | 20 | Số item/trang (max: 100) |
| search | string | No | - | Tìm kiếm theo tên hoặc mã HS |
| gender | string | No | - | Lọc theo giới tính (Nam/Nữ) |
| sortBy | string | No | full_name | Sắp xếp theo field (full_name, student_code, avg_score, rank) |
| order | string | No | asc | Thứ tự (asc/desc) |

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": {
    "students": [
      {
        "id": 1,
        "student_code": "HS001",
        "full_name": "Nguyễn Văn A",
        "date_of_birth": "2010-05-15",
        "gender": "Nam",
        "address": "123 Đường ABC, Quận 1, TP.HCM",
        "parent_phone": "0912345678",
        "parent_email": "parent@email.com",
        "notes": "",
        "avg_score": 8.5,
        "rank": 3,
        "created_at": "2025-01-01T00:00:00.000Z",
        "updated_at": "2025-01-15T00:00:00.000Z"
      },
      {
        "id": 2,
        "student_code": "HS002",
        "full_name": "Trần Thị B",
        "date_of_birth": "2010-08-20",
        "gender": "Nữ",
        "address": "456 Đường XYZ, Quận 3, TP.HCM",
        "parent_phone": "0987654321",
        "parent_email": "parent2@email.com",
        "notes": "Học sinh giỏi",
        "avg_score": 9.2,
        "rank": 1,
        "created_at": "2025-01-01T00:00:00.000Z",
        "updated_at": "2025-01-15T00:00:00.000Z"
      }
    ],
    "pagination": {
      "page": 1,
      "limit": 20,
      "total": 45,
      "totalPages": 3,
      "hasNext": true,
      "hasPrev": false
    }
  }
}
```

---

### 5.2.2 Get Student by ID

**Endpoint:** `GET /api/students/:id`  
**Description:** Lấy chi tiết một học sinh  
**Authentication:** Required

#### Request

```http
GET /api/students/1
Authorization: Bearer {token}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": {
    "id": 1,
    "student_code": "HS001",
    "full_name": "Nguyễn Văn A",
    "date_of_birth": "2010-05-15",
    "gender": "Nam",
    "address": "123 Đường ABC, Quận 1, TP.HCM",
    "parent_phone": "0912345678",
    "parent_email": "parent@email.com",
    "notes": "",
    "avg_score": 8.5,
    "rank": 3,
    "created_at": "2025-01-01T00:00:00.000Z",
    "updated_at": "2025-01-15T00:00:00.000Z",
    "scores": [
      {
        "subject_id": 1,
        "subject_name": "Toán",
        "scores": {
          "KTM": [8, 7.5, 9],
          "KT15": [8.5],
          "KT1T": [8],
          "THHK": [9]
        },
        "average": 8.3
      }
    ]
  }
}
```

**Error (404 Not Found):**

```json
{
  "success": false,
  "error": {
    "code": "NOT_FOUND",
    "message": "Không tìm thấy học sinh"
  }
}
```

---

### 5.2.3 Create Student

**Endpoint:** `POST /api/students`  
**Description:** Thêm học sinh mới  
**Authentication:** Required (role: teacher)

#### Request

```http
POST /api/students
Authorization: Bearer {token}
Content-Type: application/json

{
  "student_code": "HS001",
  "full_name": "Nguyễn Văn A",
  "date_of_birth": "2010-05-15",
  "gender": "Nam",
  "address": "123 Đường ABC, Quận 1, TP.HCM",
  "parent_phone": "0912345678",
  "parent_email": "parent@email.com",
  "notes": ""
}
```

**Request Body Schema:**

| Field | Type | Required | Validation | Description |
|-------|------|----------|------------|-------------|
| student_code | string | Yes | Unique, max 20 chars, no special chars | Mã học sinh |
| full_name | string | Yes | 2-100 chars | Họ và tên |
| date_of_birth | string (date) | Yes | YYYY-MM-DD, >= 5 years old | Ngày sinh |
| gender | string | Yes | "Nam" or "Nữ" | Giới tính |
| address | string | No | max 500 chars | Địa chỉ |
| parent_phone | string | No | 10 digits, starts with 0 | SĐT phụ huynh |
| parent_email | string | No | Valid email format | Email PH |
| notes | string | No | max 1000 chars | Ghi chú |

#### Response

**Success (201 Created):**

```json
{
  "success": true,
  "data": {
    "id": 1,
    "student_code": "HS001",
    "full_name": "Nguyễn Văn A",
    "date_of_birth": "2010-05-15",
    "gender": "Nam",
    "address": "123 Đường ABC, Quận 1, TP.HCM",
    "parent_phone": "0912345678",
    "parent_email": "parent@email.com",
    "notes": "",
    "avg_score": null,
    "rank": null,
    "created_at": "2025-01-31T00:00:00.000Z",
    "updated_at": "2025-01-31T00:00:00.000Z"
  },
  "message": "Thêm học sinh thành công"
}
```

**Error (400 Bad Request - Validation):**

```json
{
  "status": "error",
  "statusCode": 400,
  "message": "Validation Error",
  "errors": [
    {
      "path": "studentCode",
      "message": "Mã học sinh không được chứa ký tự đặc biệt"
    },
    {
      "path": "parentPhone",
      "message": "Số điện thoại phải có 10 chữ số"
    }
  ]
}
```

**Error (409 Conflict - Duplicate):**

```json
{
  "status": "error",
  "statusCode": 409,
  "message": "Mã học sinh đã tồn tại"
}
```

---

### 5.2.4 Update Student

**Endpoint:** `PUT /api/students/:id`  
**Description:** Cập nhật thông tin học sinh  
**Authentication:** Required (role: teacher)

#### Request

```http
PUT /api/students/1
Authorization: Bearer {token}
Content-Type: application/json

{
  "full_name": "Nguyễn Văn A (Cập nhật)",
  "address": "456 Đường Mới, Quận 2, TP.HCM",
  "parent_phone": "0998877665"
}
```

**Note:** 
- Không cho phép cập nhật `student_code`
- Chỉ cần gửi các field muốn update

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": {
    "id": 1,
    "student_code": "HS001",
    "full_name": "Nguyễn Văn A (Cập nhật)",
    "date_of_birth": "2010-05-15",
    "gender": "Nam",
    "address": "456 Đường Mới, Quận 2, TP.HCM",
    "parent_phone": "0998877665",
    "parent_email": "parent@email.com",
    "notes": "",
    "avg_score": 8.5,
    "rank": 3,
    "created_at": "2025-01-01T00:00:00.000Z",
    "updated_at": "2025-01-31T10:30:00.000Z"
  },
  "message": "Cập nhật thông tin học sinh thành công"
}
```

**Error (404 Not Found):**

```json
{
  "success": false,
  "error": {
    "code": "NOT_FOUND",
    "message": "Không tìm thấy học sinh"
  }
}
```

---

### 5.2.5 Delete Student

**Endpoint:** `DELETE /api/students/:id`  
**Description:** Xóa học sinh (soft delete)  
**Authentication:** Required (role: teacher)

#### Request

```http
DELETE /api/students/1
Authorization: Bearer {token}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "message": "Xóa học sinh thành công"
}
```

**Error (404 Not Found):**

```json
{
  "success": false,
  "error": {
    "code": "NOT_FOUND",
    "message": "Không tìm thấy học sinh"
  }
}
```

---

### 5.2.6 Get Deleted Students

**Endpoint:** `GET /api/students/deleted`  
**Description:** Lấy danh sách học sinh đã xóa  
**Authentication:** Required (role: teacher)

#### Request

```http
GET /api/students/deleted?page=1&limit=20
Authorization: Bearer {token}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": {
    "students": [
      {
        "id": 10,
        "student_code": "HS010",
        "full_name": "Học sinh đã xóa",
        "deleted_at": "2025-01-30T15:00:00.000Z"
      }
    ],
    "pagination": {
      "page": 1,
      "limit": 20,
      "total": 5,
      "totalPages": 1,
      "hasNext": false,
      "hasPrev": false
    }
  }
}
```

---

### 5.2.7 Restore Student

**Endpoint:** `POST /api/students/:id/restore`  
**Description:** Khôi phục học sinh đã xóa  
**Authentication:** Required (role: teacher)

#### Request

```http
POST /api/students/1/restore
Authorization: Bearer {token}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": {
    "id": 1,
    "student_code": "HS001",
    "full_name": "Nguyễn Văn A",
    "is_deleted": false
  },
  "message": "Khôi phục học sinh thành công"
}
```

---

## 5.3 Score Management APIs

### 5.3.1 Get Scores

**Endpoint:** `GET /api/scores`  
**Description:** Lấy danh sách điểm  
**Authentication:** Required

#### Request

```http
GET /api/scores?student_id=1&subject_id=2&semester=1&school_year=2025-2026
Authorization: Bearer {token}
```

**Query Parameters:**

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| student_id | integer | No | ID học sinh |
| subject_id | integer | No | ID môn học |
| semester | integer | No | Học kỳ (1 or 2) |
| school_year | string | No | Năm học (YYYY-YYYY) |
| score_type | string | No | Loại điểm (KTM/KT15/KT1T/THHK) |

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "student_id": 1,
      "student_name": "Nguyễn Văn A",
      "subject_id": 2,
      "subject_name": "Toán",
      "score_type": "KT15",
      "score": 8.5,
      "semester": 1,
      "school_year": "2025-2026",
      "created_at": "2025-01-15T00:00:00.000Z",
      "updated_at": "2025-01-15T00:00:00.000Z"
    }
  ]
}
```

---

### 5.3.2 Create Score

**Endpoint:** `POST /api/scores`  
**Description:** Nhập điểm cho học sinh  
**Authentication:** Required

#### Request

```http
POST /api/scores
Authorization: Bearer {token}
Content-Type: application/json

{
  "student_id": 1,
  "subject_id": 2,
  "score_type": "KT15",
  "score": 8.5,
  "semester": 1,
  "school_year": "2025-2026"
}
```

**Request Body Schema:**

| Field | Type | Required | Validation | Description |
|-------|------|----------|------------|-------------|
| student_id | integer | Yes | Exists in students table | ID học sinh |
| subject_id | integer | Yes | Exists in subjects table | ID môn học |
| score_type | string | Yes | KTM/KT15/KT1T/THHK | Loại điểm |
| score | number | Yes | 0-10, 1 decimal place | Điểm số |
| semester | integer | Yes | 1 or 2 | Học kỳ |
| school_year | string | Yes | YYYY-YYYY format | Năm học |

#### Response

**Success (201 Created):**

```json
{
  "success": true,
  "data": {
    "id": 1,
    "student_id": 1,
    "subject_id": 2,
    "score_type": "KT15",
    "score": 8.5,
    "semester": 1,
    "school_year": "2025-2026",
    "created_at": "2025-01-31T00:00:00.000Z",
    "updated_at": "2025-01-31T00:00:00.000Z"
  },
  "message": "Nhập điểm thành công"
}
```

**Error (400 Bad Request - Invalid Score):**

```json
{
  "status": "error",
  "statusCode": 400,
  "message": "Điểm phải từ 0 đến 10"
}
```

**Error (409 Conflict - Duplicate Score):**

```json
{
  "status": "error",
  "statusCode": 409,
  "message": "Điểm này đã tồn tại. Vui lòng sử dụng API update"
}
```

---

### 5.3.3 Batch Create Scores

**Endpoint:** `POST /api/scores/batch`  
**Description:** Nhập điểm hàng loạt  
**Authentication:** Required

#### Request

```http
POST /api/scores/batch
Authorization: Bearer {token}
Content-Type: application/json

{
  "scores": [
    {
      "student_id": 1,
      "subject_id": 2,
      "score_type": "KT15",
      "score": 8.5,
      "semester": 1,
      "school_year": "2025-2026"
    },
    {
      "student_id": 2,
      "subject_id": 2,
      "score_type": "KT15",
      "score": 9.0,
      "semester": 1,
      "school_year": "2025-2026"
    }
  ]
}
```

**Validation:**
- Maximum 100 scores per batch
- All scores must pass validation

#### Response

**Success (201 Created):**

```json
{
  "success": true,
  "data": {
    "success_count": 2,
    "failed_count": 0,
    "results": [
      {
        "student_id": 1,
        "status": "success"
      },
      {
        "student_id": 2,
        "status": "success"
      }
    ]
  },
  "message": "Đã nhập thành công 2 điểm"
}
```

**Partial Success (207 Multi-Status):**

```json
{
  "success": true,
  "data": {
    "success_count": 1,
    "failed_count": 1,
    "results": [
      {
        "student_id": 1,
        "status": "success"
      },
      {
        "student_id": 2,
        "status": "failed",
        "error": "Điểm không hợp lệ"
      }
    ]
  },
  "message": "Đã nhập thành công 1/2 điểm"
}
```

---

### 5.3.4 Update Score

**Endpoint:** `PUT /api/scores/:id`  
**Description:** Cập nhật điểm  
**Authentication:** Required

#### Request

```http
PUT /api/scores/1
Authorization: Bearer {token}
Content-Type: application/json

{
  "score": 9.0
}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": {
    "id": 1,
    "student_id": 1,
    "subject_id": 2,
    "score_type": "KT15",
    "score": 9.0,
    "semester": 1,
    "school_year": "2025-2026",
    "created_at": "2025-01-15T00:00:00.000Z",
    "updated_at": "2025-01-31T00:00:00.000Z",
    "is_edited": true
  },
  "message": "Cập nhật điểm thành công"
}
```

---

### 5.3.5 Delete Score

**Endpoint:** `DELETE /api/scores/:id`  
**Description:** Xóa điểm  
**Authentication:** Required

#### Request

```http
DELETE /api/scores/1
Authorization: Bearer {token}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "message": "Xóa điểm thành công"
}
```

---

### 5.3.6 Get Score History

**Endpoint:** `GET /api/scores/:id/history`  
**Description:** Xem lịch sử thay đổi điểm  
**Authentication:** Required

#### Request

```http
GET /api/scores/1/history
Authorization: Bearer {token}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "score_id": 1,
      "old_score": 8.5,
      "new_score": 9.0,
      "changed_by": "teacher01",
      "changed_at": "2025-01-31T10:30:00.000Z",
      "reason": "Chấm lại bài kiểm tra"
    },
    {
      "id": 2,
      "score_id": 1,
      "old_score": 8.0,
      "new_score": 8.5,
      "changed_by": "teacher01",
      "changed_at": "2025-01-20T14:15:00.000Z",
      "reason": null
    }
  ]
}
```

---

## 5.4 Subject APIs

### 5.4.1 Get All Subjects

**Endpoint:** `GET /api/subjects`  
**Description:** Lấy danh sách môn học  
**Authentication:** Required

#### Request

```http
GET /api/subjects
Authorization: Bearer {token}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "subject_name": "Toán",
      "subject_code": "MATH"
    },
    {
      "id": 2,
      "subject_name": "Văn",
      "subject_code": "LIT"
    },
    {
      "id": 3,
      "subject_name": "Tiếng Anh",
      "subject_code": "ENG"
    },
    {
      "id": 4,
      "subject_name": "Vật lý",
      "subject_code": "PHY"
    },
    {
      "id": 5,
      "subject_name": "Hóa học",
      "subject_code": "CHEM"
    },
    {
      "id": 6,
      "subject_name": "Sinh học",
      "subject_code": "BIO"
    },
    {
      "id": 7,
      "subject_name": "Lịch sử",
      "subject_code": "HIST"
    },
    {
      "id": 8,
      "subject_name": "Địa lý",
      "subject_code": "GEO"
    },
    {
      "id": 9,
      "subject_name": "GDCD",
      "subject_code": "CIV"
    },
    {
      "id": 10,
      "subject_name": "Tin học",
      "subject_code": "IT"
    },
    {
      "id": 11,
      "subject_name": "Thể dục",
      "subject_code": "PE"
    }
  ]
}
```

---

## 5.5 Analytics & Reports APIs

### 5.5.1 Get Dashboard

**Endpoint:** `GET /api/analytics/dashboard`  
**Description:** Lấy dữ liệu dashboard tổng quan  
**Authentication:** Required

#### Request

```http
GET /api/analytics/dashboard?semester=1&school_year=2025-2026
Authorization: Bearer {token}
```

**Query Parameters:**

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| semester | integer | No | Học kỳ (1 or 2) |
| school_year | string | No | Năm học |

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": {
    "summary": {
      "total_students": 45,
      "class_average": 7.8,
      "excellent_count": 12,
      "good_count": 18,
      "average_count": 10,
      "weak_count": 5,
      "excellent_percentage": 26.67,
      "good_percentage": 40.0,
      "average_percentage": 22.22,
      "weak_percentage": 11.11
    },
    "distribution": {
      "labels": ["Giỏi", "Khá", "Trung bình", "Yếu"],
      "values": [12, 18, 10, 5]
    },
    "subject_averages": [
      {
        "subject_id": 1,
        "subject_name": "Toán",
        "average": 8.2
      },
      {
        "subject_id": 2,
        "subject_name": "Văn",
        "average": 7.8
      },
      {
        "subject_id": 3,
        "subject_name": "Tiếng Anh",
        "average": 8.5
      }
    ],
    "top_students": [
      {
        "id": 1,
        "student_code": "HS001",
        "full_name": "Nguyễn Văn A",
        "avg_score": 9.2,
        "rank": 1
      },
      {
        "id": 2,
        "student_code": "HS002",
        "full_name": "Trần Thị B",
        "avg_score": 9.0,
        "rank": 2
      }
    ],
    "need_attention": [
      {
        "id": 40,
        "student_code": "HS040",
        "full_name": "Học sinh C",
        "avg_score": 4.5,
        "rank": 45
      }
    ]
  }
}
```

---

### 5.5.2 Get Rankings

**Endpoint:** `GET /api/analytics/rankings`  
**Description:** Lấy bảng xếp hạng  
**Authentication:** Required

#### Request

```http
GET /api/analytics/rankings?semester=1&school_year=2025-2026
Authorization: Bearer {token}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": [
    {
      "rank": 1,
      "student_id": 1,
      "student_code": "HS001",
      "full_name": "Nguyễn Văn A",
      "avg_score": 9.2,
      "excellent_subjects": 8,
      "good_subjects": 3,
      "average_subjects": 0,
      "weak_subjects": 0
    },
    {
      "rank": 2,
      "student_id": 2,
      "student_code": "HS002",
      "full_name": "Trần Thị B",
      "avg_score": 9.0,
      "excellent_subjects": 7,
      "good_subjects": 4,
      "average_subjects": 0,
      "weak_subjects": 0
    },
    {
      "rank": 2,
      "student_id": 3,
      "student_code": "HS003",
      "full_name": "Lê Văn C",
      "avg_score": 9.0,
      "excellent_subjects": 8,
      "good_subjects": 2,
      "average_subjects": 1,
      "weak_subjects": 0
    }
  ]
}
```

**Note:** Học sinh có cùng điểm TB sẽ có cùng rank

---

### 5.5.3 Get Student Report

**Endpoint:** `GET /api/analytics/student/:id`  
**Description:** Lấy báo cáo chi tiết học sinh  
**Authentication:** Required

#### Request

```http
GET /api/analytics/student/1?semester=1&school_year=2025-2026
Authorization: Bearer {token}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": {
    "student": {
      "id": 1,
      "student_code": "HS001",
      "full_name": "Nguyễn Văn A",
      "date_of_birth": "2010-05-15",
      "gender": "Nam"
    },
    "scores_by_subject": [
      {
        "subject_id": 1,
        "subject_name": "Toán",
        "scores": {
          "KTM": [8, 7.5, 9],
          "KT15": [8.5, 9],
          "KT1T": [8],
          "THHK": [9]
        },
        "average": 8.5,
        "classification": "Giỏi"
      },
      {
        "subject_id": 2,
        "subject_name": "Văn",
        "scores": {
          "KTM": [7, 8],
          "KT15": [7.5],
          "KT1T": [7],
          "THHK": [8]
        },
        "average": 7.5,
        "classification": "Khá"
      }
    ],
    "overall": {
      "avg_score": 8.2,
      "rank": 3,
      "total_students": 45,
      "excellent_subjects": 6,
      "good_subjects": 4,
      "average_subjects": 1,
      "weak_subjects": 0
    }
  }
}
```

---

### 5.5.4 Get Class Summary

**Endpoint:** `GET /api/analytics/class-summary`  
**Description:** Thống kê tổng hợp lớp học  
**Authentication:** Required

#### Request

```http
GET /api/analytics/class-summary?semester=1&school_year=2025-2026
Authorization: Bearer {token}
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": {
    "total_students": 45,
    "class_average": 7.8,
    "highest_score": 9.5,
    "lowest_score": 4.2,
    "classification": {
      "excellent": {
        "count": 12,
        "percentage": 26.67,
        "students": ["HS001", "HS002", "HS003"]
      },
      "good": {
        "count": 18,
        "percentage": 40.0,
        "students": ["HS004", "HS005"]
      },
      "average": {
        "count": 10,
        "percentage": 22.22,
        "students": ["HS015", "HS016"]
      },
      "weak": {
        "count": 5,
        "percentage": 11.11,
        "students": ["HS040", "HS041"]
      }
    },
    "subject_statistics": [
      {
        "subject_id": 1,
        "subject_name": "Toán",
        "class_average": 8.2,
        "highest_score": 10,
        "lowest_score": 5.5,
        "excellent_count": 15,
        "good_count": 20,
        "average_count": 8,
        "weak_count": 2
      }
    ]
  }
}
```

---

## 5.6 Import/Export APIs

### 5.6.1 Import Students

**Endpoint:** `POST /api/import/students`  
**Description:** Import danh sách học sinh từ Excel  
**Authentication:** Required (role: teacher)

#### Request

```http
POST /api/import/students
Authorization: Bearer {token}
Content-Type: multipart/form-data

file: [Excel file]
```

**File Requirements:**
- Format: .xlsx or .csv
- Max size: 5MB
- Max rows: 500
- Required columns: Mã HS, Họ tên, Ngày sinh, Giới tính

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": {
    "total_rows": 50,
    "success_count": 45,
    "failed_count": 5,
    "results": [
      {
        "row": 1,
        "student_code": "HS001",
        "status": "success"
      },
      {
        "row": 2,
        "student_code": "HS002",
        "status": "failed",
        "error": "Mã học sinh đã tồn tại"
      }
    ]
  },
  "message": "Import thành công 45/50 học sinh"
}
```

**Error (400 Bad Request - Invalid File):**

```json
{
  "success": false,
  "error": {
    "code": "INVALID_FILE",
    "message": "File không đúng định dạng hoặc thiếu các cột bắt buộc"
  }
}
```

---

### 5.6.2 Download Student Template

**Endpoint:** `GET /api/import/students/template`  
**Description:** Tải file mẫu import học sinh  
**Authentication:** Required

#### Request

```http
GET /api/import/students/template
Authorization: Bearer {token}
```

#### Response

**Success (200 OK):**
- Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
- File download: student_template.xlsx

---

### 5.6.3 Import Scores

**Endpoint:** `POST /api/import/scores`  
**Description:** Import điểm từ Excel  
**Authentication:** Required

#### Request

```http
POST /api/import/scores
Authorization: Bearer {token}
Content-Type: multipart/form-data

file: [Excel file]
subject_id: 1
score_type: KT15
semester: 1
school_year: 2025-2026
```

#### Response

**Success (200 OK):**

```json
{
  "success": true,
  "data": {
    "total_rows": 45,
    "success_count": 43,
    "failed_count": 2,
    "results": [
      {
        "row": 1,
        "student_code": "HS001",
        "score": 8.5,
        "status": "success"
      },
      {
        "row": 5,
        "student_code": "HS999",
        "score": 9.0,
        "status": "failed",
        "error": "Học sinh không tồn tại"
      }
    ]
  },
  "message": "Import thành công 43/45 điểm"
}
```

---

### 5.6.4 Export Students

**Endpoint:** `GET /api/export/students`  
**Description:** Xuất danh sách học sinh ra Excel  
**Authentication:** Required

#### Request

```http
GET /api/export/students?format=xlsx&include_scores=true
Authorization: Bearer {token}
```

**Query Parameters:**

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| format | string | No | xlsx or csv (default: xlsx) |
| include_scores | boolean | No | Bao gồm điểm (default: false) |
| student_ids | string | No | Danh sách ID (comma separated) |

#### Response

**Success (200 OK):**
- Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
- Content-Disposition: attachment; filename="DanhSachHocSinh_20250131.xlsx"
- File download

---

### 5.6.5 Export Scores

**Endpoint:** `GET /api/export/scores`  
**Description:** Xuất bảng điểm ra Excel  
**Authentication:** Required

#### Request

```http
GET /api/export/scores?subject_id=1&semester=1&school_year=2025-2026&format=xlsx
Authorization: Bearer {token}
```

**Query Parameters:**

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| subject_id | integer | No | ID môn học (all nếu không có) |
| semester | integer | No | Học kỳ |
| school_year | string | No | Năm học |
| format | string | No | xlsx or csv |

#### Response

**Success (200 OK):**
- Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
- Content-Disposition: attachment; filename="BangDiem_Toan_20250131.xlsx"
- File download

---

### 5.6.6 Export Student Report PDF

**Endpoint:** `GET /api/export/report/student/:id`  
**Description:** Xuất báo cáo học sinh ra PDF  
**Authentication:** Required

#### Request

```http
GET /api/export/report/student/1?semester=1&school_year=2025-2026&include_comments=true
Authorization: Bearer {token}
```

**Query Parameters:**

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| semester | integer | No | Học kỳ |
| school_year | string | No | Năm học |
| include_comments | boolean | No | Bao gồm nhận xét GV |

#### Response

**Success (200 OK):**
- Content-Type: application/pdf
- Content-Disposition: attachment; filename="BaoCao_HS001_20250131.pdf"
- PDF file download

---

### 5.6.7 Export Class Report PDF

**Endpoint:** `GET /api/export/report/class`  
**Description:** Xuất báo cáo lớp học ra PDF  
**Authentication:** Required

#### Request

```http
GET /api/export/report/class?semester=1&school_year=2025-2026
Authorization: Bearer {token}
```

#### Response

**Success (200 OK):**
- Content-Type: application/pdf
- Content-Disposition: attachment; filename="BaoCaoLop_20250131.pdf"
- PDF file download

---

## 6. Data Models

### 6.1 Student Model

```typescript
interface Student {
  id: number;
  student_code: string;
  full_name: string;
  date_of_birth: string; // YYYY-MM-DD
  gender: "Nam" | "Nữ";
  address?: string;
  parent_phone?: string;
  parent_email?: string;
  notes?: string;
  avg_score?: number;
  rank?: number;
  is_deleted: boolean;
  created_at: string; // ISO 8601
  updated_at: string; // ISO 8601
}
```

---

### 6.2 Score Model

```typescript
interface Score {
  id: number;
  student_id: number;
  subject_id: number;
  score_type: "KTM" | "KT15" | "KT1T" | "THHK";
  score: number; // 0-10, 1 decimal
  semester: 1 | 2;
  school_year: string; // YYYY-YYYY
  is_edited: boolean;
  created_at: string;
  updated_at: string;
}
```

---

### 6.3 Subject Model

```typescript
interface Subject {
  id: number;
  subject_name: string;
  subject_code: string;
}
```

---

### 6.4 User Model

```typescript
interface User {
  id: number;
  username: string;
  full_name: string;
  email: string;
  role: "teacher" | "admin";
  created_at: string;
}
```

---

### 6.5 Pagination Model

```typescript
interface Pagination {
  page: number;
  limit: number;
  total: number;
  totalPages: number;
  hasNext: boolean;
  hasPrev: boolean;
}
```

---

### 6.6 Error Model

```typescript
interface ApiError {
  success: false;
  error: {
    code: string;
    message: string;
    details?: Array<{
      field: string;
      message: string;
    }>;
  };
}
```

---

## 7. Status Codes

### 7.1 Success Codes

| Code | Description |
|------|-------------|
| 200 | OK - Request successful |
| 201 | Created - Resource created successfully |
| 204 | No Content - Request successful, no data to return |
| 207 | Multi-Status - Batch operation with mixed results |

### 7.2 Client Error Codes

| Code | Description |
|------|-------------|
| 400 | Bad Request - Invalid request data |
| 401 | Unauthorized - Authentication required |
| 403 | Forbidden - Insufficient permissions |
| 404 | Not Found - Resource not found |
| 409 | Conflict - Resource already exists |
| 422 | Unprocessable Entity - Validation error |
| 429 | Too Many Requests - Rate limit exceeded |

### 7.3 Server Error Codes

| Code | Description |
|------|-------------|
| 500 | Internal Server Error |
| 502 | Bad Gateway |
| 503 | Service Unavailable |

---

## 8. Examples

### 8.1 Complete Flow: Add Student and Score

#### Step 1: Login

```bash
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "teacher01",
    "password": "password123"
  }'
```

**Response:**
```json
{
  "success": true,
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": { ... }
  }
}
```

#### Step 2: Add Student

```bash
curl -X POST http://localhost:3000/api/students \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
  -d '{
    "student_code": "HS001",
    "full_name": "Nguyễn Văn A",
    "date_of_birth": "2010-05-15",
    "gender": "Nam",
    "address": "123 Đường ABC, Quận 1, TP.HCM",
    "parent_phone": "0912345678",
    "parent_email": "parent@email.com"
  }'
```

#### Step 3: Add Score

```bash
curl -X POST http://localhost:3000/api/scores \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
  -d '{
    "student_id": 1,
    "subject_id": 1,
    "score_type": "KT15",
    "score": 8.5,
    "semester": 1,
    "school_year": "2025-2026"
  }'
```

---

### 8.2 Search and Filter Students

```bash
curl -X GET "http://localhost:3000/api/students?page=1&limit=20&search=nguyen&gender=Nam&sortBy=avg_score&order=desc" \
  -H "Authorization: Bearer {token}"
```

---

### 8.3 Batch Import Scores

```bash
curl -X POST http://localhost:3000/api/scores/batch \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer {token}" \
  -d '{
    "scores": [
      {
        "student_id": 1,
        "subject_id": 1,
        "score_type": "KT15",
        "score": 8.5,
        "semester": 1,
        "school_year": "2025-2026"
      },
      {
        "student_id": 2,
        "subject_id": 1,
        "score_type": "KT15",
        "score": 9.0,
        "semester": 1,
        "school_year": "2025-2026"
      }
    ]
  }'
```

---

### 8.4 Get Dashboard Data

```bash
curl -X GET "http://localhost:3000/api/analytics/dashboard?semester=1&school_year=2025-2026" \
  -H "Authorization: Bearer {token}"
```

---

### 8.5 Export Students to Excel

```bash
curl -X GET "http://localhost:3000/api/export/students?format=xlsx&include_scores=true" \
  -H "Authorization: Bearer {token}" \
  -o students.xlsx
```

---

## Appendix A: Validation Rules

### A.1 Student Validation

```javascript
const studentValidation = {
  student_code: {
    required: true,
    type: 'string',
    pattern: /^[A-Z0-9]+$/,
    maxLength: 20,
    unique: true
  },
  full_name: {
    required: true,
    type: 'string',
    minLength: 2,
    maxLength: 100
  },
  date_of_birth: {
    required: true,
    type: 'date',
    format: 'YYYY-MM-DD',
    custom: (value) => {
      const age = calculateAge(value);
      return age >= 5 && age <= 25;
    }
  },
  gender: {
    required: true,
    enum: ['Nam', 'Nữ']
  },
  parent_phone: {
    required: false,
    pattern: /^0\d{9}$/,
    message: 'Số điện thoại phải có 10 chữ số và bắt đầu bằng 0'
  },
  parent_email: {
    required: false,
    type: 'email',
    pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/
  }
};
```

---

### A.2 Score Validation

```javascript
const scoreValidation = {
  score: {
    required: true,
    type: 'number',
    min: 0,
    max: 10,
    custom: (value) => {
      // Only 1 decimal place allowed
      return /^\d+(\.\d)?$/.test(value.toString());
    }
  },
  score_type: {
    required: true,
    enum: ['KTM', 'KT15', 'KT1T', 'THHK']
  },
  semester: {
    required: true,
    enum: [1, 2]
  },
  school_year: {
    required: true,
    pattern: /^\d{4}-\d{4}$/,
    custom: (value) => {
      const [year1, year2] = value.split('-').map(Number);
      return year2 === year1 + 1;
    }
  }
};
```

---

## Appendix B: Database Calculations

### B.1 Calculate Subject Average

```sql
-- Tính điểm trung bình môn học
SELECT 
  student_id,
  subject_id,
  ROUND(
    (
      COALESCE(SUM(CASE WHEN score_type = 'KTM' THEN score * 1 END), 0) +
      COALESCE(SUM(CASE WHEN score_type = 'KT15' THEN score * 1 END), 0) +
      COALESCE(SUM(CASE WHEN score_type = 'KT1T' THEN score * 2 END), 0) +
      COALESCE(SUM(CASE WHEN score_type = 'THHK' THEN score * 3 END), 0)
    ) / NULLIF(
      COALESCE(COUNT(CASE WHEN score_type = 'KTM' THEN 1 END) * 1, 0) +
      COALESCE(COUNT(CASE WHEN score_type = 'KT15' THEN 1 END) * 1, 0) +
      COALESCE(COUNT(CASE WHEN score_type = 'KT1T' THEN 1 END) * 2, 0) +
      COALESCE(COUNT(CASE WHEN score_type = 'THHK' THEN 1 END) * 3, 0)
    , 0),
    1
  ) as subject_average
FROM scores
WHERE semester = 1 AND school_year = '2025-2026'
GROUP BY student_id, subject_id;
```

---

### B.2 Calculate Overall Average

```sql
-- Tính điểm trung bình chung
SELECT 
  student_id,
  ROUND(AVG(subject_average), 1) as overall_average
FROM (
  -- Subquery từ B.1
) subject_averages
GROUP BY student_id;
```

---

### B.3 Calculate Rankings

```sql
-- Tính xếp hạng
SELECT 
  student_id,
  overall_average,
  DENSE_RANK() OVER (ORDER BY overall_average DESC) as rank
FROM (
  -- Subquery từ B.2
) overall_averages
ORDER BY rank;
```

---

## Appendix C: API Client Examples

### C.1 JavaScript/Fetch

```javascript
// API Client Class
class StudentAPI {
  constructor(baseURL, token) {
    this.baseURL = baseURL;
    this.token = token;
  }

  async request(endpoint, options = {}) {
    const url = `${this.baseURL}${endpoint}`;
    const headers = {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${this.token}`,
      ...options.headers
    };

    const response = await fetch(url, {
      ...options,
      headers
    });

    const data = await response.json();

    if (!response.ok) {
      throw new Error(data.error?.message || 'Request failed');
    }

    return data;
  }

  // Students
  async getStudents(params = {}) {
    const query = new URLSearchParams(params).toString();
    return this.request(`/students?${query}`);
  }

  async createStudent(studentData) {
    return this.request('/students', {
      method: 'POST',
      body: JSON.stringify(studentData)
    });
  }

  async updateStudent(id, studentData) {
    return this.request(`/students/${id}`, {
      method: 'PUT',
      body: JSON.stringify(studentData)
    });
  }

  async deleteStudent(id) {
    return this.request(`/students/${id}`, {
      method: 'DELETE'
    });
  }

  // Scores
  async createScore(scoreData) {
    return this.request('/scores', {
      method: 'POST',
      body: JSON.stringify(scoreData)
    });
  }

  async batchCreateScores(scores) {
    return this.request('/scores/batch', {
      method: 'POST',
      body: JSON.stringify({ scores })
    });
  }

  // Analytics
  async getDashboard(params = {}) {
    const query = new URLSearchParams(params).toString();
    return this.request(`/analytics/dashboard?${query}`);
  }
}

// Usage
const api = new StudentAPI('http://localhost:3000/api', 'your-token');

// Get students
const students = await api.getStudents({ page: 1, limit: 20 });

// Create student
const newStudent = await api.createStudent({
  student_code: 'HS001',
  full_name: 'Nguyễn Văn A',
  date_of_birth: '2010-05-15',
  gender: 'Nam'
});
```

---

### C.2 Axios Example

```javascript
import axios from 'axios';

const apiClient = axios.create({
  baseURL: 'http://localhost:3000/api',
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json'
  }
});

// Request interceptor
apiClient.interceptors.request.use(
  (config) => {
    const token = localStorage.getItem('token');
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  },
  (error) => Promise.reject(error)
);

// Response interceptor
apiClient.interceptors.response.use(
  (response) => response.data,
  (error) => {
    if (error.response?.status === 401) {
      // Redirect to login
      window.location.href = '/login';
    }
    return Promise.reject(error.response?.data || error);
  }
);

// Export API methods
export const studentAPI = {
  getAll: (params) => apiClient.get('/students', { params }),
  getById: (id) => apiClient.get(`/students/${id}`),
  create: (data) => apiClient.post('/students', data),
  update: (id, data) => apiClient.put(`/students/${id}`, data),
  delete: (id) => apiClient.delete(`/students/${id}`)
};

export const scoreAPI = {
  create: (data) => apiClient.post('/scores', data),
  batchCreate: (scores) => apiClient.post('/scores/batch', { scores }),
  update: (id, data) => apiClient.put(`/scores/${id}`, data)
};

export const analyticsAPI = {
  getDashboard: (params) => apiClient.get('/analytics/dashboard', { params }),
  getRankings: (params) => apiClient.get('/analytics/rankings', { params })
};
```

---

## Appendix D: Postman Collection

### D.1 Import into Postman

Save this as `student-management-api.postman_collection.json`:

```json
{
  "info": {
    "name": "Student Management API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000/api"
    },
    {
      "key": "token",
      "value": ""
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{token}}",
        "type": "string"
      }
    ]
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"teacher01\",\n  \"password\": \"password123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": ["{{base_url}}"],
              "path": ["auth", "login"]
            }
          }
        }
      ]
    },
    {
      "name": "Students",
      "item": [
        {
          "name": "Get All Students",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/students?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["students"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            }
          }
        },
        {
          "name": "Create Student",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"student_code\": \"HS001\",\n  \"full_name\": \"Nguyễn Văn A\",\n  \"date_of_birth\": \"2010-05-15\",\n  \"gender\": \"Nam\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/students",
              "host": ["{{base_url}}"],
              "path": ["students"]
            }
          }
        }
      ]
    }
  ]
}
```

---

**Document Version:** 1.0  
**Last Updated:** 31/01/2026  
**Total Endpoints:** 30+  
**API Status:** Draft - Ready for Implementation
