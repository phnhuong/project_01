# User Stories - Hệ Thống Quản Lý Học Sinh

---

## Thông Tin Tài Liệu

**Dự án:** Hệ Thống Quản Lý Học Sinh  
**Phiên bản:** 1.0  
**Ngày tạo:** 31/01/2026  
**Trạng thái:** Draft

---

## Mục Lục

1. [Personas](#1-personas)
2. [Epic 1: Authentication & Authorization](#epic-1-authentication--authorization)
3. [Epic 2: Quản Lý Học Sinh](#epic-2-quản-lý-học-sinh)
4. [Epic 3: Quản Lý Điểm Số](#epic-3-quản-lý-điểm-số)
5. [Epic 4: Tính Toán & Xếp Hạng](#epic-4-tính-toán--xếp-hạng)
6. [Epic 5: Báo Cáo & Thống Kê](#epic-5-báo-cáo--thống-kê)
7. [Epic 6: Import/Export Dữ Liệu](#epic-6-importexport-dữ-liệu)
8. [Story Mapping](#story-mapping)
9. [Prioritization Matrix](#prioritization-matrix)

---

## 1. Personas

### Persona 1: Cô Lan - Giáo Viên Chủ Nhiệm

**Thông tin:**
- Tuổi: 35
- Kinh nghiệm: 10 năm giảng dạy
- Công nghệ: Sử dụng máy tính cơ bản, quen với Excel
- Mục tiêu: Quản lý lớp học hiệu quả, tiết kiệm thời gian xử lý điểm

**Pain Points:**
- Mất nhiều thời gian tính điểm thủ công
- Dễ sai sót khi nhập điểm vào Excel
- Khó theo dõi tiến độ học tập của từng học sinh

**Kỳ vọng:**
- Hệ thống dễ sử dụng, không cần đào tạo nhiều
- Tự động tính điểm và xếp hạng
- Truy cập nhanh thông tin học sinh

---

### Persona 2: Thầy Minh - Giáo Viên Bộ Môn

**Thông tin:**
- Tuổi: 42
- Vị trí: Giáo viên Toán
- Công nghệ: Thành thạo máy tính, biết lập trình cơ bản
- Mục tiêu: Nhập điểm nhanh cho nhiều lớp

**Pain Points:**
- Phải nhập điểm cho 3-4 lớp
- Cần nhìn tổng quan thành tích học sinh

**Kỳ vọng:**
- Nhập điểm hàng loạt (bulk input)
- Xuất báo cáo theo môn học

---

### Persona 3: Hiệu Trưởng Hòa - Ban Giám Hiệu

**Thông tin:**
- Tuổi: 50
- Vị trí: Hiệu trưởng
- Mục tiêu: Giám sát chất lượng giảng dạy

**Pain Points:**
- Khó có cái nhìn tổng quan về toàn trường
- Cần báo cáo nhanh cho sở giáo dục

**Kỳ vọng:**
- Dashboard thống kê tổng quan
- Xuất báo cáo chuyên nghiệp

---

## EPIC 1: Authentication & Authorization

### Story 1.1: Đăng Nhập Hệ Thống

**As a** Giáo viên  
**I want to** đăng nhập vào hệ thống bằng tài khoản của mình  
**So that** tôi có thể truy cập và quản lý dữ liệu lớp học

**Acceptance Criteria:**
- [ ] Hiển thị form đăng nhập với username và password
- [ ] Validate username không được để trống
- [ ] Validate password tối thiểu 6 ký tự
- [ ] Hiển thị thông báo lỗi nếu thông tin đăng nhập sai
- [ ] Redirect đến Dashboard sau khi đăng nhập thành công
- [ ] Lưu token vào localStorage/sessionStorage
- [ ] Hiển thị loading indicator trong khi xử lý

**Priority:** P0 (Must Have)  
**Story Points:** 5  
**Sprint:** Sprint 1

**Technical Notes:**
- Sử dụng JWT authentication
- Hash password với bcrypt
- HTTPS required

**UI/UX Notes:**
- Form centered, clean design
- Show/hide password toggle
- Remember me checkbox (optional)

---

### Story 1.2: Đăng Xuất Hệ Thống

**As a** Giáo viên  
**I want to** đăng xuất khỏi hệ thống  
**So that** tôi có thể bảo mật tài khoản khi rời khỏi máy tính

**Acceptance Criteria:**
- [ ] Button "Đăng xuất" hiển thị ở header
- [ ] Click vào button hiển thị confirmation dialog
- [ ] Xóa token khỏi localStorage
- [ ] Redirect về trang đăng nhập
- [ ] Clear tất cả session data

**Priority:** P0 (Must Have)  
**Story Points:** 2  
**Sprint:** Sprint 1

---

### Story 1.3: Quên Mật Khẩu

**As a** Giáo viên  
**I want to** reset mật khẩu khi quên  
**So that** tôi có thể truy cập lại hệ thống

**Acceptance Criteria:**
- [ ] Link "Quên mật khẩu" ở trang đăng nhập
- [ ] Form nhập email
- [ ] Gửi email với link reset password
- [ ] Link có thời hạn 1 giờ
- [ ] Form đặt mật khẩu mới

**Priority:** P2 (Should Have)  
**Story Points:** 8  
**Sprint:** Sprint 3

---

## EPIC 2: Quản Lý Học Sinh

### Story 2.1: Xem Danh Sách Học Sinh

**As a** Giáo viên chủ nhiệm  
**I want to** xem danh sách tất cả học sinh trong lớp  
**So that** tôi có thể nắm được thông tin tổng quan về lớp học

**Acceptance Criteria:**
- [ ] Hiển thị bảng danh sách với các cột: STT, Mã HS, Họ tên, Ngày sinh, Giới tính, Điểm TB, Hạng
- [ ] Mặc định hiển thị 20 học sinh/trang
- [ ] Có pagination ở cuối bảng
- [ ] Hiển thị tổng số học sinh
- [ ] Loading state khi fetch data
- [ ] Empty state khi chưa có học sinh
- [ ] Responsive trên tablet và desktop

**Priority:** P0 (Must Have)  
**Story Points:** 5  
**Sprint:** Sprint 1

**Technical Notes:**
- GET /api/students?page=1&limit=20
- Sử dụng React Table hoặc custom table component
- Implement virtualization nếu >100 records

**UI/UX Notes:**
- Clean table design với Tailwind
- Hover effect trên rows
- Zebra striping cho dễ đọc

---

### Story 2.2: Tìm Kiếm Học Sinh

**As a** Giáo viên  
**I want to** tìm kiếm học sinh theo tên hoặc mã số  
**So that** tôi có thể nhanh chóng tìm thấy học sinh cần xem

**Acceptance Criteria:**
- [ ] Search box ở đầu danh sách
- [ ] Tìm kiếm theo tên (không phân biệt hoa thường)
- [ ] Tìm kiếm theo mã số học sinh
- [ ] Kết quả hiển thị real-time (debounce 300ms)
- [ ] Highlight text match trong kết quả
- [ ] Clear search button (X)
- [ ] Hiển thị "Không tìm thấy kết quả" khi không có

**Priority:** P1 (High Priority)  
**Story Points:** 5  
**Sprint:** Sprint 1

**Technical Notes:**
- Implement debouncing
- Backend: LIKE query hoặc full-text search
- Case-insensitive search

---

### Story 2.3: Lọc Học Sinh Theo Giới Tính

**As a** Giáo viên  
**I want to** lọc danh sách học sinh theo giới tính  
**So that** tôi có thể xem riêng học sinh nam hoặc nữ

**Acceptance Criteria:**
- [ ] Dropdown filter "Tất cả / Nam / Nữ"
- [ ] Áp dụng filter ngay khi chọn
- [ ] Hiển thị số lượng kết quả sau khi filter
- [ ] Kết hợp được với search
- [ ] Reset filter button

**Priority:** P2 (Should Have)  
**Story Points:** 3  
**Sprint:** Sprint 2

---

### Story 2.4: Sắp Xếp Danh Sách Học Sinh

**As a** Giáo viên  
**I want to** sắp xếp danh sách theo các tiêu chí khác nhau  
**So that** tôi có thể xem danh sách theo thứ tự phù hợp

**Acceptance Criteria:**
- [ ] Click vào column header để sort
- [ ] Sort theo: Tên (A-Z, Z-A), Điểm TB (cao-thấp, thấp-cao), Hạng (1-n, n-1)
- [ ] Hiển thị arrow icon (↑↓) cho cột đang sort
- [ ] Giữ sort state khi chuyển trang
- [ ] Default sort theo tên A-Z

**Priority:** P1 (High Priority)  
**Story Points:** 5  
**Sprint:** Sprint 1

---

### Story 2.5: Thêm Học Sinh Mới

**As a** Giáo viên chủ nhiệm  
**I want to** thêm học sinh mới vào lớp  
**So that** tôi có thể quản lý thông tin học sinh mới nhập học

**Acceptance Criteria:**
- [ ] Button "Thêm học sinh" ở đầu trang
- [ ] Hiển thị modal/form với các trường:
  - Mã số học sinh (bắt buộc, unique)
  - Họ và tên (bắt buộc)
  - Ngày sinh (bắt buộc, date picker)
  - Giới tính (dropdown: Nam/Nữ)
  - Địa chỉ (textarea)
  - Số điện thoại phụ huynh (validate 10 số)
  - Email phụ huynh (validate email format)
  - Ghi chú (textarea, optional)
- [ ] Validate tất cả required fields
- [ ] Hiển thị lỗi cụ thể cho từng field
- [ ] Button "Lưu" và "Hủy"
- [ ] Hiển thị success message sau khi lưu
- [ ] Tự động refresh danh sách
- [ ] Loading state khi submit

**Priority:** P0 (Must Have)  
**Story Points:** 8  
**Sprint:** Sprint 1

**Validation Rules:**
- Mã HS: không trùng, không chứa ký tự đặc biệt
- Họ tên: 2-100 ký tự
- Ngày sinh: không lớn hơn ngày hiện tại, >= 5 tuổi
- SĐT: đúng 10 số, bắt đầu bằng 0
- Email: format chuẩn

**UI/UX Notes:**
- Modal centered, max-width 600px
- Form layout 2 columns trên desktop
- Auto-focus vào field đầu tiên
- Enter để submit (nếu valid)

---

### Story 2.6: Xem Chi Tiết Học Sinh

**As a** Giáo viên  
**I want to** xem chi tiết thông tin của một học sinh  
**So that** tôi có thể nắm rõ thông tin cá nhân và học tập

**Acceptance Criteria:**
- [ ] Click vào row trong bảng để xem detail
- [ ] Hiển thị modal/page với:
  - Thông tin cá nhân đầy đủ
  - Ảnh đại diện (nếu có)
  - Bảng điểm tất cả các môn
  - Điểm trung bình
  - Xếp hạng
  - Lịch sử thay đổi điểm
- [ ] Button "Sửa" và "Đóng"
- [ ] Responsive design

**Priority:** P1 (High Priority)  
**Story Points:** 8  
**Sprint:** Sprint 2

---

### Story 2.7: Sửa Thông Tin Học Sinh

**As a** Giáo viên chủ nhiệm  
**I want to** chỉnh sửa thông tin học sinh  
**So that** tôi có thể cập nhật khi thông tin thay đổi

**Acceptance Criteria:**
- [ ] Button "Sửa" trên row hoặc detail page
- [ ] Pre-fill form với dữ liệu hiện tại
- [ ] Không cho phép sửa mã số học sinh
- [ ] Validate giống như form thêm mới
- [ ] Confirmation dialog nếu có thay đổi lớn
- [ ] Hiển thị success message
- [ ] Update danh sách ngay lập tức
- [ ] Log lại lịch sử thay đổi (audit trail)

**Priority:** P0 (Must Have)  
**Story Points:** 5  
**Sprint:** Sprint 1

**Technical Notes:**
- PUT /api/students/:id
- Optimistic update UI
- Rollback nếu API fails

---

### Story 2.8: Xóa Học Sinh

**As a** Giáo viên chủ nhiệm  
**I want to** xóa học sinh khỏi danh sách  
**So that** tôi có thể loại bỏ học sinh đã chuyển trường hoặc nghỉ học

**Acceptance Criteria:**
- [ ] Button "Xóa" (icon trash) trên mỗi row
- [ ] Hiển thị confirmation dialog:
  - "Bạn có chắc chắn muốn xóa học sinh [Tên]?"
  - "Thao tác này có thể được hoàn tác"
- [ ] Button "Xác nhận" và "Hủy"
- [ ] Soft delete (đánh dấu is_deleted = true)
- [ ] Ẩn khỏi danh sách ngay lập tức
- [ ] Hiển thị success message
- [ ] Giữ lại dữ liệu điểm số

**Priority:** P0 (Must Have)  
**Story Points:** 5  
**Sprint:** Sprint 1

**Security Notes:**
- Chỉ giáo viên chủ nhiệm mới được xóa
- Log action để audit

---

### Story 2.9: Khôi Phục Học Sinh Đã Xóa

**As a** Giáo viên chủ nhiệm  
**I want to** khôi phục học sinh đã xóa nhầm  
**So that** tôi không mất dữ liệu khi xóa nhầm

**Acceptance Criteria:**
- [ ] Link "Học sinh đã xóa" trong menu
- [ ] Hiển thị danh sách học sinh đã xóa
- [ ] Button "Khôi phục" trên mỗi row
- [ ] Confirmation "Bạn muốn khôi phục học sinh này?"
- [ ] Học sinh xuất hiện lại trong danh sách chính
- [ ] Success message

**Priority:** P2 (Should Have)  
**Story Points:** 5  
**Sprint:** Sprint 3

---

## EPIC 3: Quản Lý Điểm Số

### Story 3.1: Chọn Môn Học Và Loại Điểm

**As a** Giáo viên  
**I want to** chọn môn học và loại điểm trước khi nhập  
**So that** tôi có thể nhập điểm đúng môn và đúng loại

**Acceptance Criteria:**
- [ ] Dropdown chọn môn học (11 môn)
- [ ] Dropdown chọn loại điểm (KTM, KT15, KT1T, THHK)
- [ ] Dropdown chọn học kỳ (HK1, HK2)
- [ ] Hiển thị năm học hiện tại
- [ ] Lưu lựa chọn vào state
- [ ] Enable form nhập điểm sau khi chọn đủ

**Priority:** P0 (Must Have)  
**Story Points:** 3  
**Sprint:** Sprint 2

**UI/UX Notes:**
- 3 dropdowns ngang hàng
- Auto-focus vào dropdown đầu tiên
- Keyboard navigation

---

### Story 3.2: Nhập Điểm Cho Học Sinh

**As a** Giáo viên  
**I want to** nhập điểm cho từng học sinh  
**So that** tôi có thể lưu trữ kết quả học tập

**Acceptance Criteria:**
- [ ] Hiển thị bảng với cột: STT, Mã HS, Họ tên, Điểm
- [ ] Input field cho điểm ở mỗi row
- [ ] Inline editing (click vào ô để nhập)
- [ ] Validate điểm:
  - Từ 0 đến 10
  - Cho phép 1 chữ số thập phân
  - Có thể để trống
- [ ] Highlight field đang edit
- [ ] Auto-save khi blur hoặc Enter
- [ ] Hiển thị success/error indicator
- [ ] Loading spinner khi save

**Priority:** P0 (Must Have)  
**Story Points:** 8  
**Sprint:** Sprint 2

**Technical Notes:**
- POST /api/scores
- Debounce auto-save
- Optimistic UI update

**Validation:**
```javascript
const isValidScore = (score) => {
  if (score === '') return true; // Empty allowed
  const num = parseFloat(score);
  return num >= 0 && num <= 10 && /^\d+(\.\d)?$/.test(score);
};
```

---

### Story 3.3: Nhập Điểm Hàng Loạt

**As a** Giáo viên  
**I want to** nhập điểm cho nhiều học sinh cùng lúc  
**So that** tôi tiết kiệm thời gian khi có nhiều điểm cần nhập

**Acceptance Criteria:**
- [ ] Button "Lưu tất cả" ở cuối bảng
- [ ] Validate tất cả điểm đã nhập
- [ ] Hiển thị danh sách lỗi nếu có (học sinh nào, lỗi gì)
- [ ] Batch update tất cả điểm hợp lệ
- [ ] Progress bar khi đang lưu
- [ ] Success message với số lượng đã lưu
- [ ] Highlight các row thành công/thất bại

**Priority:** P1 (High Priority)  
**Story Points:** 8  
**Sprint:** Sprint 2

**Technical Notes:**
- POST /api/scores/batch
- Transaction để đảm bảo data consistency

---

### Story 3.4: Sửa Điểm Đã Nhập

**As a** Giáo viên  
**I want to** sửa điểm đã nhập trước đó  
**So that** tôi có thể sửa lỗi nhập liệu

**Acceptance Criteria:**
- [ ] Click vào điểm đã có để edit
- [ ] Hiển thị giá trị cũ trong input
- [ ] Validate như nhập mới
- [ ] Confirmation nếu thay đổi > 2 điểm
- [ ] Update database ngay lập tức
- [ ] Log lại lịch sử thay đổi (old_value, new_value, user, timestamp)
- [ ] Hiển thị icon "đã sửa" nếu điểm từng được thay đổi

**Priority:** P0 (Must Have)  
**Story Points:** 5  
**Sprint:** Sprint 2

---

### Story 3.5: Xem Lịch Sử Điểm

**As a** Giáo viên  
**I want to** xem lịch sử thay đổi điểm  
**So that** tôi có thể kiểm tra ai đã sửa điểm và khi nào

**Acceptance Criteria:**
- [ ] Icon "history" bên cạnh điểm đã từng sửa
- [ ] Click vào hiển thị modal lịch sử
- [ ] Hiển thị: Ngày giờ, Người sửa, Điểm cũ, Điểm mới
- [ ] Sắp xếp theo thời gian mới nhất
- [ ] Cho phép rollback về giá trị cũ (optional)

**Priority:** P3 (Nice to Have)  
**Story Points:** 5  
**Sprint:** Sprint 4

---

### Story 3.6: Xóa Điểm

**As a** Giáo viên  
**I want to** xóa điểm đã nhập nhầm  
**So that** tôi có thể loại bỏ dữ liệu sai

**Acceptance Criteria:**
- [ ] Button xóa (icon X) trong ô điểm
- [ ] Confirmation dialog
- [ ] Xóa khỏi database
- [ ] Ô điểm trở về trạng thái trống
- [ ] Success message

**Priority:** P1 (High Priority)  
**Story Points:** 3  
**Sprint:** Sprint 2

---

### Story 3.7: Xem Tất Cả Điểm Của Một Học Sinh

**As a** Giáo viên  
**I want to** xem tất cả điểm của một học sinh  
**So that** tôi có thể đánh giá tổng quan năng lực học tập

**Acceptance Criteria:**
- [ ] Click vào học sinh hiển thị detail page
- [ ] Bảng điểm với rows = môn học, columns = loại điểm
- [ ] Highlight điểm giỏi (>=8), khá (>=6.5), trung bình (>=5), yếu (<5)
- [ ] Hiển thị điểm TB từng môn
- [ ] Hiển thị điểm TB chung và xếp hạng
- [ ] Responsive table

**Priority:** P1 (High Priority)  
**Story Points:** 8  
**Sprint:** Sprint 2

**UI Example:**
```
| Môn học    | KTM | KT15 | KT1T | THHK | TB   |
|------------|-----|------|------|------|------|
| Toán       | 8   | 7.5  | 8    | 9    | 8.3  |
| Văn        | 7   | 8    | 7.5  | 8    | 7.7  |
```

---

## EPIC 4: Tính Toán & Xếp Hạng

### Story 4.1: Tự Động Tính Điểm Trung Bình Môn

**As a** Giáo viên  
**I want to** hệ thống tự động tính điểm trung bình môn  
**So that** tôi không phải tính thủ công

**Acceptance Criteria:**
- [ ] Tính theo công thức: (Σ(KTM×1) + Σ(KT15×1) + Σ(KT1T×2) + Σ(THHK×3)) / Tổng hệ số
- [ ] Tự động tính khi có thay đổi điểm
- [ ] Làm tròn đến 1 chữ số thập phân
- [ ] Hiển thị ngay trên UI
- [ ] Lưu vào database
- [ ] Handle trường hợp chưa có đủ điểm

**Priority:** P0 (Must Have)  
**Story Points:** 5  
**Sprint:** Sprint 2

**Technical Notes:**
```javascript
const calculateSubjectAverage = (scores) => {
  const weights = { KTM: 1, KT15: 1, KT1T: 2, THHK: 3 };
  let totalScore = 0;
  let totalWeight = 0;
  
  scores.forEach(score => {
    totalScore += score.value * weights[score.type];
    totalWeight += weights[score.type];
  });
  
  return totalWeight > 0 ? (totalScore / totalWeight).toFixed(1) : null;
};
```

---

### Story 4.2: Tự Động Tính Điểm Trung Bình Chung

**As a** Giáo viên  
**I want to** hệ thống tự động tính điểm trung bình chung  
**So that** tôi biết được thành tích tổng thể của học sinh

**Acceptance Criteria:**
- [ ] Tính theo công thức: Σ(ĐTB môn) / Số môn
- [ ] Chỉ tính các môn đã có điểm TB
- [ ] Làm tròn đến 1 chữ số thập phân
- [ ] Tự động update khi điểm môn thay đổi
- [ ] Hiển thị trên danh sách và detail
- [ ] Cache kết quả để tối ưu performance

**Priority:** P0 (Must Have)  
**Story Points:** 5  
**Sprint:** Sprint 2

---

### Story 4.3: Xếp Hạng Học Sinh Tự Động

**As a** Giáo viên  
**I want to** hệ thống tự động xếp hạng học sinh  
**So that** tôi biết thứ hạng của từng học sinh trong lớp

**Acceptance Criteria:**
- [ ] Xếp hạng dựa trên điểm TB chung (cao → thấp)
- [ ] Hạng 1 = điểm cao nhất
- [ ] Học sinh cùng điểm được cùng hạng
- [ ] Hạng tiếp theo skip số người cùng hạng (VD: 2 người hạng 1 → người tiếp là hạng 3)
- [ ] Tự động update khi điểm thay đổi
- [ ] Hiển thị hạng trong danh sách

**Priority:** P0 (Must Have)  
**Story Points:** 8  
**Sprint:** Sprint 2

**Technical Notes:**
```javascript
const calculateRankings = (students) => {
  // Sort by avg_score DESC
  const sorted = students.sort((a, b) => b.avg_score - a.avg_score);
  
  let rank = 1;
  sorted.forEach((student, index) => {
    if (index > 0 && student.avg_score < sorted[index - 1].avg_score) {
      rank = index + 1;
    }
    student.rank = rank;
  });
  
  return sorted;
};
```

---

### Story 4.4: Xem Bảng Xếp Hạng

**As a** Giáo viên  
**I want to** xem bảng xếp hạng toàn lớp  
**So that** tôi có thể so sánh thành tích giữa các học sinh

**Acceptance Criteria:**
- [ ] Page "Xếp hạng" trong menu
- [ ] Bảng hiển thị: Hạng, Mã HS, Họ tên, Điểm TB, số môn giỏi/khá/TB/yếu
- [ ] Highlight Top 3 với màu khác (gold, silver, bronze)
- [ ] Filter theo học kỳ
- [ ] Export to PDF/Excel
- [ ] Responsive design

**Priority:** P1 (High Priority)  
**Story Points:** 8  
**Sprint:** Sprint 3

**UI/UX Notes:**
- Top 3 có medal icon
- Color coding cho điểm
- Print-friendly layout

---

### Story 4.5: Xem Top 10 Học Sinh Xuất Sắc

**As a** Giáo viên  
**I want to** xem nhanh top 10 học sinh giỏi nhất  
**So that** tôi có thể khen ngợi và động viên

**Acceptance Criteria:**
- [ ] Widget "Top 10" trên Dashboard
- [ ] Hiển thị: Hạng, Tên, Điểm TB
- [ ] Avatar/ảnh học sinh (nếu có)
- [ ] Click vào để xem chi tiết
- [ ] Auto-refresh khi có thay đổi

**Priority:** P2 (Should Have)  
**Story Points:** 5  
**Sprint:** Sprint 3

---

## EPIC 5: Báo Cáo & Thống Kê

### Story 5.1: Xem Dashboard Tổng Quan

**As a** Giáo viên chủ nhiệm  
**I want to** xem dashboard với các số liệu tổng quan  
**So that** tôi nhanh chóng nắm bắt tình hình lớp học

**Acceptance Criteria:**
- [ ] Card hiển thị:
  - Tổng số học sinh
  - Điểm trung bình lớp
  - Số học sinh giỏi/khá/trung bình/yếu
  - Tỷ lệ % từng loại
- [ ] Biểu đồ tròn (pie chart) phân bố học lực
- [ ] Biểu đồ cột (bar chart) điểm TB theo môn
- [ ] Top 10 học sinh xuất sắc
- [ ] Danh sách học sinh cần quan tâm (điểm yếu)
- [ ] Responsive layout

**Priority:** P1 (High Priority)  
**Story Points:** 13  
**Sprint:** Sprint 3

**Technical Notes:**
- Use Recharts for visualization
- Cache data 5 minutes
- Lazy load charts

---

### Story 5.2: Xuất Báo Cáo Cá Nhân Học Sinh

**As a** Giáo viên  
**I want to** xuất báo cáo chi tiết cho một học sinh  
**So that** tôi có thể in và gửi cho phụ huynh

**Acceptance Criteria:**
- [ ] Button "Xuất báo cáo" trên detail page
- [ ] PDF chứa:
  - Thông tin học sinh
  - Bảng điểm tất cả môn
  - Điểm TB từng môn và TB chung
  - Xếp hạng
  - Nhận xét giáo viên (textarea để nhập)
  - Logo trường, chữ ký
- [ ] Professional template
- [ ] Download file PDF
- [ ] Preview trước khi download

**Priority:** P1 (High Priority)  
**Story Points:** 13  
**Sprint:** Sprint 3

**Technical Notes:**
- Use jsPDF or similar library
- Template in Vietnamese
- A4 paper size

---

### Story 5.3: Xuất Báo Cáo Lớp Học

**As a** Giáo viên chủ nhiệm  
**I want to** xuất báo cáo tổng hợp cả lớp  
**So that** tôi có thể báo cáo lên ban giám hiệu

**Acceptance Criteria:**
- [ ] Button "Xuất báo cáo lớp" trên Dashboard
- [ ] PDF chứa:
  - Thông tin lớp học
  - Tổng số học sinh
  - Bảng điểm tổng hợp
  - Bảng xếp hạng
  - Biểu đồ phân bố học lực
  - Biểu đồ điểm TB các môn
  - Thống kê giỏi/khá/TB/yếu
- [ ] Multiple pages nếu cần
- [ ] Download PDF

**Priority:** P2 (Should Have)  
**Story Points:** 13  
**Sprint:** Sprint 4

---

### Story 5.4: Xem Biểu Đồ Phân Bố Điểm

**As a** Giáo viên  
**I want to** xem biểu đồ phân bố điểm số  
**So that** tôi hiểu được phổ điểm của lớp

**Acceptance Criteria:**
- [ ] Histogram cho từng môn học
- [ ] Trục X: khoảng điểm (0-2, 2-4, 4-6, 6-8, 8-10)
- [ ] Trục Y: số lượng học sinh
- [ ] Interactive tooltip
- [ ] Filter theo môn học
- [ ] Responsive chart

**Priority:** P2 (Should Have)  
**Story Points:** 8  
**Sprint:** Sprint 4

---

### Story 5.5: So Sánh Điểm Theo Môn

**As a** Giáo viên  
**I want to** so sánh điểm trung bình các môn học  
**So that** tôi biết môn nào lớp học yếu nhất

**Acceptance Criteria:**
- [ ] Bar chart ngang
- [ ] Mỗi bar = 1 môn học
- [ ] Độ dài bar = điểm TB môn
- [ ] Color code: xanh (>=8), vàng (6.5-8), đỏ (<6.5)
- [ ] Sort theo điểm (cao → thấp)
- [ ] Show value trên mỗi bar

**Priority:** P2 (Should Have)  
**Story Points:** 5  
**Sprint:** Sprint 3

---

## EPIC 6: Import/Export Dữ Liệu

### Story 6.1: Import Danh Sách Học Sinh Từ Excel

**As a** Giáo viên chủ nhiệm  
**I want to** import danh sách học sinh từ file Excel  
**So that** tôi không phải nhập từng học sinh một

**Acceptance Criteria:**
- [ ] Button "Import Excel" trên trang học sinh
- [ ] Download file mẫu (template.xlsx)
- [ ] Upload file .xlsx hoặc .csv
- [ ] Validate dữ liệu:
  - Các cột bắt buộc có đầy đủ
  - Format đúng
  - Không có mã HS trùng
- [ ] Hiển thị preview data trước khi import
- [ ] Hiển thị danh sách lỗi nếu có
- [ ] Import chỉ các row hợp lệ
- [ ] Success message với số lượng đã import

**Priority:** P2 (Should Have)  
**Story Points:** 13  
**Sprint:** Sprint 4

**Technical Notes:**
- Use SheetJS (xlsx) library
- Template có header row
- Validate row by row

**Excel Template:**
```
| Mã HS  | Họ tên       | Ngày sinh  | Giới tính | Địa chỉ | SĐT PH      | Email PH        |
|--------|--------------|------------|-----------|---------|-------------|-----------------|
| HS001  | Nguyễn Văn A | 15/05/2010 | Nam       | HCM     | 0912345678  | parent@mail.com |
```

---

### Story 6.2: Import Điểm Từ Excel

**As a** Giáo viên  
**I want to** import điểm từ file Excel  
**So that** tôi có thể nhập điểm hàng loạt nhanh chóng

**Acceptance Criteria:**
- [ ] Button "Import điểm" trên trang điểm
- [ ] Chọn môn học và loại điểm trước
- [ ] Download template theo môn đã chọn
- [ ] Upload file Excel
- [ ] Validate:
  - Mã HS tồn tại
  - Điểm hợp lệ (0-10)
- [ ] Preview trước khi import
- [ ] Batch import
- [ ] Report kết quả (thành công/thất bại)

**Priority:** P2 (Should Have)  
**Story Points:** 13  
**Sprint:** Sprint 4

---

### Story 6.3: Export Danh Sách Học Sinh Ra Excel

**As a** Giáo viên  
**I want to** export danh sách học sinh ra Excel  
**So that** tôi có thể xử lý dữ liệu bên ngoài

**Acceptance Criteria:**
- [ ] Button "Export Excel" trên trang học sinh
- [ ] Export tất cả học sinh hoặc filtered list
- [ ] File chứa tất cả thông tin học sinh
- [ ] Format đẹp với header, border
- [ ] Auto-fit column width
- [ ] Filename: DanhSachHocSinh_YYYYMMDD.xlsx

**Priority:** P2 (Should Have)  
**Story Points:** 5  
**Sprint:** Sprint 4

**Technical Notes:**
- Use SheetJS for export
- Apply cell styling

---

### Story 6.4: Export Bảng Điểm Ra Excel

**As a** Giáo viên  
**I want to** export bảng điểm ra Excel  
**So that** tôi có thể lưu trữ hoặc gửi cho người khác

**Acceptance Criteria:**
- [ ] Button "Export" trên trang điểm
- [ ] Chọn môn học để export
- [ ] File chứa: Mã HS, Họ tên, các cột điểm, ĐTB
- [ ] Conditional formatting (màu theo điểm)
- [ ] Freeze header row
- [ ] Filename: BangDiem_[MonHoc]_YYYYMMDD.xlsx

**Priority:** P2 (Should Have)  
**Story Points:** 8  
**Sprint:** Sprint 4

---

## Story Mapping

### Release 1: MVP (Sprint 1-2) - Core Features

#### Sprint 1: Foundation
- **Authentication** (2 weeks)
  - Story 1.1: Đăng nhập ✓
  - Story 1.2: Đăng xuất ✓
  
- **Student Management** (2 weeks)
  - Story 2.1: Xem danh sách ✓
  - Story 2.2: Tìm kiếm ✓
  - Story 2.4: Sắp xếp ✓
  - Story 2.5: Thêm học sinh ✓
  - Story 2.7: Sửa thông tin ✓
  - Story 2.8: Xóa học sinh ✓

#### Sprint 2: Score Management
- **Score Input** (2 weeks)
  - Story 3.1: Chọn môn/loại điểm ✓
  - Story 3.2: Nhập điểm ✓
  - Story 3.3: Nhập hàng loạt ✓
  - Story 3.4: Sửa điểm ✓
  - Story 3.6: Xóa điểm ✓
  
- **Calculation** (1 week)
  - Story 4.1: Tính ĐTB môn ✓
  - Story 4.2: Tính ĐTB chung ✓
  - Story 4.3: Xếp hạng ✓

---

### Release 2: Enhancement (Sprint 3-4)

#### Sprint 3: Analytics & Reports
- Story 2.3: Filter giới tính
- Story 2.6: Xem chi tiết HS
- Story 3.7: Xem tất cả điểm
- Story 4.4: Bảng xếp hạng
- Story 4.5: Top 10
- Story 5.1: Dashboard
- Story 5.2: Báo cáo cá nhân
- Story 5.5: So sánh điểm

#### Sprint 4: Advanced Features
- Story 1.3: Quên mật khẩu
- Story 2.9: Khôi phục học sinh
- Story 3.5: Lịch sử điểm
- Story 5.3: Báo cáo lớp
- Story 5.4: Biểu đồ phân bố
- Story 6.1-6.4: Import/Export

---

## Prioritization Matrix

### P0 - Must Have (MVP)
| Story | Epic | Points | Sprint |
|-------|------|--------|--------|
| 1.1 | Auth | 5 | 1 |
| 1.2 | Auth | 2 | 1 |
| 2.1 | Student | 5 | 1 |
| 2.5 | Student | 8 | 1 |
| 2.7 | Student | 5 | 1 |
| 2.8 | Student | 5 | 1 |
| 3.1 | Score | 3 | 2 |
| 3.2 | Score | 8 | 2 |
| 3.4 | Score | 5 | 2 |
| 4.1 | Calculation | 5 | 2 |
| 4.2 | Calculation | 5 | 2 |
| 4.3 | Calculation | 8 | 2 |
| **Total** | | **64** | **1-2** |

### P1 - High Priority
| Story | Epic | Points | Sprint |
|-------|------|--------|--------|
| 2.2 | Student | 5 | 1 |
| 2.4 | Student | 5 | 1 |
| 2.6 | Student | 8 | 2 |
| 3.3 | Score | 8 | 2 |
| 3.6 | Score | 3 | 2 |
| 3.7 | Score | 8 | 2 |
| 4.4 | Ranking | 8 | 3 |
| 5.1 | Reports | 13 | 3 |
| 5.2 | Reports | 13 | 3 |
| **Total** | | **71** | **1-3** |

### P2 - Should Have
| Story | Epic | Points | Sprint |
|-------|------|--------|--------|
| 2.3 | Student | 3 | 2 |
| 2.9 | Student | 5 | 3 |
| 4.5 | Ranking | 5 | 3 |
| 5.3 | Reports | 13 | 4 |
| 5.4 | Reports | 8 | 4 |
| 5.5 | Reports | 5 | 3 |
| 6.1 | Import/Export | 13 | 4 |
| 6.2 | Import/Export | 13 | 4 |
| 6.3 | Import/Export | 5 | 4 |
| 6.4 | Import/Export | 8 | 4 |
| **Total** | | **78** | **2-4** |

### P3 - Nice to Have
| Story | Epic | Points | Sprint |
|-------|------|--------|--------|
| 1.3 | Auth | 8 | 4+ |
| 3.5 | Score | 5 | 4+ |
| **Total** | | **13** | **4+** |

---

## Story Point Estimation Guide

**1 Point:** Trivial (< 2 hours)
- Simple UI changes
- Minor text updates

**2 Points:** Simple (2-4 hours)
- Basic CRUD operations
- Simple components

**3 Points:** Easy (4-8 hours)
- Standard features
- Common patterns

**5 Points:** Medium (1-2 days)
- Complex business logic
- Multiple components

**8 Points:** Complex (2-3 days)
- Major features
- Integration work

**13 Points:** Very Complex (3-5 days)
- Significant features
- Research needed

**21 Points:** Epic (1-2 weeks)
- Too large, break down further

---

## Velocity Tracking

### Team Capacity
- Team size: 3 developers
- Sprint length: 2 weeks
- Estimated velocity: 30-40 points/sprint

### Sprint Planning
- **Sprint 1:** 35 points (Auth + Student CRUD)
- **Sprint 2:** 40 points (Score Management + Calculation)
- **Sprint 3:** 35 points (Analytics + Basic Reports)
- **Sprint 4:** 30 points (Advanced Features)

---

## Definition of Done (DoD)

### For Each User Story:
- [ ] Code written and reviewed
- [ ] Unit tests written (>80% coverage)
- [ ] Integration tests passed
- [ ] UI matches design mockup
- [ ] Responsive on desktop/tablet
- [ ] Accessibility checked (WCAG 2.1 AA)
- [ ] Code merged to develop branch
- [ ] Deployed to staging environment
- [ ] Tested by QA
- [ ] Documentation updated
- [ ] Product Owner accepted

### For Each Sprint:
- [ ] All P0 stories completed
- [ ] No critical bugs
- [ ] Demo prepared
- [ ] Retrospective held
- [ ] Next sprint planned

---

## Acceptance Testing Checklist

### Functional Testing
- [ ] All acceptance criteria met
- [ ] Happy path works
- [ ] Edge cases handled
- [ ] Error handling works

### Non-Functional Testing
- [ ] Performance acceptable (<2s load)
- [ ] Security vulnerabilities checked
- [ ] Data validation works
- [ ] Cross-browser tested

### User Experience
- [ ] Intuitive navigation
- [ ] Clear error messages
- [ ] Loading states shown
- [ ] Success feedback provided

---

## Dependencies & Risks

### Dependencies
| Story | Depends On | Risk Level |
|-------|------------|------------|
| 3.x (Score) | 2.x (Student) | Low |
| 4.x (Calculation) | 3.x (Score) | Medium |
| 5.x (Reports) | 4.x (Calculation) | Low |
| 6.x (Import) | 2.x, 3.x | Medium |

### Risks
1. **Performance with large datasets (>1000 students)**
   - Mitigation: Implement pagination, lazy loading
   
2. **Complex calculation logic**
   - Mitigation: Thorough testing, peer review

3. **Import data quality**
   - Mitigation: Strict validation, clear error messages

---

## Notes for Development Team

### Code Quality Standards
- Follow ESLint/Prettier config
- Write meaningful commit messages
- Comment complex logic
- Keep functions small (<50 lines)

### Git Workflow
- Feature branch naming: `feature/story-[number]-[short-desc]`
- PR template includes story link
- Require 1 approval before merge

### Communication
- Daily standup: 9:00 AM
- Sprint planning: Monday morning
- Sprint review: Friday afternoon
- Retrospective: Friday after review

---

**Document Version:** 1.0  
**Last Updated:** 31/01/2026  
**Total Stories:** 40  
**Total Story Points:** 226  
**Estimated Duration:** 8-10 sprints (4-5 months)
