# Technical Architecture - Hệ Thống Quản Lý Học Sinh

---

## Thông Tin Tài Liệu

**Dự án:** Hệ Thống Quản Lý Học Sinh  
**Architecture Style:** 3-Tier Monolithic  
**Deployment:** Direct on Ubuntu 22.04 LTS (PM2 + Nginx)  
**Server:** 192.168.147.3 (Ubuntu 22.04 LTS)  
**Installation Path:** ~/qlhs_02  
**Ngày cập nhật:** 03/02/2026  
**Trạng thái:** Updated for Production

---

## Mục Lục

1. [Architecture Overview](#1-architecture-overview)
2. [System Architecture](#2-system-architecture)
3. [Application Architecture](#3-application-architecture)
4. [Folder Structure](#4-folder-structure)
5. [Code Organization](#5-code-organization)
6. [Design Patterns](#6-design-patterns)
7. [Security Architecture](#7-security-architecture)
8. [Data Flow](#8-data-flow)
9. [Error Handling](#9-error-handling)
10. [Logging & Monitoring](#10-logging--monitoring)
11. [Performance Considerations](#11-performance-considerations)
12. [Development Workflow](#12-development-workflow)

---

## 1. Architecture Overview

### 1.1 Architecture Style

**Chosen Architecture:** 3-Tier Monolithic Architecture

**Rationale:**
- ✅ Simpler to develop and deploy
- ✅ Lower operational complexity
- ✅ Easier debugging and testing
- ✅ Sufficient for MVP and expected scale
- ✅ Team familiarity

**Future Migration Path:** Can evolve to microservices if needed

---

### 1.2 High-Level Architecture Diagram

```
┌────────────────────────────────────────────────────────────────┐
│                         INTERNET                               │
└────────────────────────┬───────────────────────────────────────┘
                         │
                         │ HTTPS (443) / HTTP (80)
                         │
                         ▼
┌────────────────────────────────────────────────────────────────┐
│              Ubuntu 22.04 LTS Server (192.168.147.3)           │
│              Installation: ~/qlhs_02                           │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│        ┌────────────────────────────────────┐                 │
│        │      NGINX (System Service)        │                 │
│        │  - Port 80 (HTTP redirect)         │                 │
│        │  - Port 443 (HTTPS)                │                 │
│        │  - SSL Termination                 │                 │
│        │  - Static File Serving             │                 │
│        │  - Reverse Proxy                   │                 │
│        │  - Rate Limiting                   │                 │
│        └────────┬───────────────────┬───────┘                 │
│                 │                   │                         │
│                 │ → /api/*          │ → /*                    │
│                 │ (API requests)    │ (Frontend)              │
│                 │                   │                         │
│        ┌────────▼───────┐    ┌─────▼──────────────┐          │
│        │   BACKEND      │    │     FRONTEND       │          │
│        │   (PM2)        │    │     (Built)        │          │
│        │                │    │                    │          │
│        │ Port: 3000     │    │ Served by Nginx    │          │
│        │ Path: ~/qlhs_02│    │ Path: ~/qlhs_02/   │          │
│        │      /backend  │    │      frontend/dist │          │
│        │                │    │                    │          │
│        │ Node.js 20     │    │ React (built)      │          │
│        │ Express 4      │    │ HTML/CSS/JS        │          │
│        │ JWT Auth       │    │                    │          │
│        │ Prisma ORM     │    │                    │          │
│        │ Business Logic │    │                    │          │
│        └────────┬───────┘    └────────────────────┘          │
│                 │                                             │
│                 │ PostgreSQL Connection                       │
│                 │ localhost:5432                              │
│                 │                                             │
│           ┌─────▼──────────────────────┐                     │
│           │  PostgreSQL 16 (System)    │                     │
│           │  Port: 5432                │                     │
│           │  Database: qlhs_db         │                     │
│           │  User: admin123            │                     │
│           │                            │                     │
│           │  Tables:                   │                     │
│           │  - users                   │                     │
│           │  - students                │                     │
│           │  - subjects                │                     │
│           │  - scores                  │                     │
│           │  - score_history           │                     │
│           │  - audit_logs              │                     │
│           │  - password_resets         │                     │
│           │                            │                     │
│           └────────────────────────────┘                     │
│                                                                │
│  File System:                                                  │
│  ~/qlhs_02/                                                    │
│  ├── backend/         (Node.js application)                   │
│  ├── frontend/        (React source)                          │
│  │   └── dist/        (Built files served by Nginx)           │
│  ├── logs/            (Application logs)                      │
│  └── uploads/         (User uploaded files)                   │
│                                                                │
└────────────────────────────────────────────────────────────────┘

Server Information:
- IP Address: 192.168.147.3
- OS: Ubuntu 22.04 LTS
- User: admin123
- Installation Directory: /home/admin123/qlhs_02
```
```

---

### 1.3 Technology Stack Summary

| Layer | Technology | Version | Purpose |
|-------|-----------|---------|---------|
| **Frontend** | React | 18.x | UI Framework |
| | Vite | 5.x | Build Tool |
| | Tailwind CSS | 3.x | Styling |
| | React Router | 6.x | Routing |
| | Axios | 1.x | HTTP Client |
| | React Hook Form | 7.x | Form Management |
| | Recharts | 2.x | Data Visualization |
| **Backend** | Node.js | 20.x LTS | Runtime |
| | Express.js | 4.x | Web Framework |
| | Prisma | 5.x | ORM |
| | JWT | - | Authentication |
| | bcrypt | 5.x | Password Hashing |
| | Joi/Zod | - | Validation |
| **Database** | PostgreSQL | 16.x | Relational DB |
| **DevOps** | Ubuntu | 22.04 LTS | Host OS |
| | PM2 | Latest | Process Manager |
| | Nginx | Latest | Web Server |
| | Systemd | Linux | Service Manager |
| | GitHub Actions | - | CI/CD (Future) |

---

## 2. System Architecture

## 2. System Architecture

### 2.1 Direct Deployment Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                        Ubuntu 22.04 LTS Server                  │
│                        (IP: 192.168.147.3)                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌────────────────────────┐      ┌───────────────────────────┐  │
│  │        NGINX           │      │        System Services    │  │
│  │   (System Service)     │      │                           │  │
│  │                        │      │  ┌─────────────────────┐  │  │
│  │  Port 80 (HTTP)        │◄────►│  │   PostgreSQL 16     │  │  │
│  │  Port 443 (HTTPS)      │      │  │   (Systemd)         │  │  │
│  │                        │      │  │   Port: 5432        │  │  │
│  │  Reverse Proxy         │      │  └────────▲────────────┘  │  │
│  │  Static Serving        │      │           │               │  │
│  └────────┬───────────────┘      │           │ (localhost)   │  │
│           │                      │           │               │  │
│           │ (localhost:3000)     │  ┌────────▼────────────┐  │  │
│           │                      │  │    Backend API      │  │  │
│           ▼                      │  │    (Node.js 20)     │  │  │
│  ┌────────────────────────┐      │  │    (PM2 Process)    │  │  │
│  │      Frontend          │      │  │    Port: 3000       │  │  │
│  │   (Static Files)       │      │  └─────────────────────┘  │  │
│  │   /var/www/html/       │      │                           │  │
│  │   student-management   │      └───────────────────────────┘  │
│  └────────────────────────┘                                     │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

### 2.2 Process Management Strategy

**PM2 (Node.js Process Manager):**
- Manages the Backend API process.
- Features: Auto-restart, Load Balancing (Cluster Mode), Log Management.
- Config: `ecosystem.config.js`

**Systemd (Linux Service Manager):**
- Manages PostgreSQL Database (`postgresql.service`).
- Manages Nginx Web Server (`nginx.service`).
- Ensures services start on boot.

---

### 2.3 Directory Structure (Deployment)

```bash
/home/admin123/qlhs_02/
├── backend/            # Node.js Application
│   ├── src/
│   ├── package.json
│   ├── ecosystem.config.js
│   └── .env
├── frontend/           # Frontend Build Artifacts
│   └── dist/           # Static files served by Nginx
├── logs/               # Application Logs
│   ├── app-out.log
│   └── app-error.log
└── uploads/            # User Uploaded Files
```

---

## 3. Application Architecture

### 3.1 Frontend Architecture (React)

```
┌─────────────────────────────────────────────────────────────┐
│                    FRONTEND ARCHITECTURE                     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────┐       │
│  │              Presentation Layer                 │       │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐     │       │
│  │  │  Pages   │  │Components│  │  Layouts │     │       │
│  │  │          │  │          │  │          │     │       │
│  │  │ Login    │  │ Header   │  │ MainLayout    │       │
│  │  │ Dashboard│  │ Sidebar  │  │ AuthLayout    │       │
│  │  │ Students │  │ Table    │  │          │     │       │
│  │  │ Scores   │  │ Form     │  │          │     │       │
│  │  │ Rankings │  │ Modal    │  │          │     │       │
│  │  └──────────┘  └──────────┘  └──────────┘     │       │
│  └─────────────────────────────────────────────────┘       │
│                         │                                   │
│                         ▼                                   │
│  ┌─────────────────────────────────────────────────┐       │
│  │              State Management Layer             │       │
│  │  ┌──────────────┐  ┌──────────────┐            │       │
│  │  │ Context API  │  │ Custom Hooks │            │       │
│  │  │              │  │              │            │       │
│  │  │ AuthContext  │  │ useAuth      │            │       │
│  │  │ AppContext   │  │ useStudents  │            │       │
│  │  │              │  │ useScores    │            │       │
│  │  └──────────────┘  └──────────────┘            │       │
│  └─────────────────────────────────────────────────┘       │
│                         │                                   │
│                         ▼                                   │
│  ┌─────────────────────────────────────────────────┐       │
│  │              Service Layer                      │       │
│  │  ┌─────────────────────────────────────┐       │       │
│  │  │        API Services                 │       │       │
│  │  │                                     │       │       │
│  │  │  authService    studentService      │       │       │
│  │  │  scoreService   analyticsService    │       │       │
│  │  │  importService  exportService       │       │       │
│  │  │                                     │       │       │
│  │  └─────────────────────────────────────┘       │       │
│  │                     │                           │       │
│  │                     ▼                           │       │
│  │  ┌─────────────────────────────────────┐       │       │
│  │  │      HTTP Client (Axios)            │       │       │
│  │  │  - Interceptors                     │       │       │
│  │  │  - Error Handling                   │       │       │
│  │  │  - Token Management                 │       │       │
│  │  └─────────────────────────────────────┘       │       │
│  └─────────────────────────────────────────────────┘       │
│                         │                                   │
│                         ▼                                   │
│                    Backend API                              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

### 3.2 Backend Architecture (Node.js + Express)

```
┌─────────────────────────────────────────────────────────────┐
│                    BACKEND ARCHITECTURE                      │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────┐       │
│  │              Presentation Layer                 │       │
│  │  ┌──────────────────────────────────────┐      │       │
│  │  │         Routes / Endpoints           │      │       │
│  │  │                                      │      │       │
│  │  │  /api/auth/*       authRoutes        │      │       │
│  │  │  /api/students/*   studentRoutes     │      │       │
│  │  │  /api/scores/*     scoreRoutes       │      │       │
│  │  │  /api/analytics/*  analyticsRoutes   │      │       │
│  │  │  /api/import/*     importRoutes      │      │       │
│  │  │  /api/export/*     exportRoutes      │      │       │
│  │  │                                      │      │       │
│  │  └──────────────────────────────────────┘      │       │
│  └─────────────────────────────────────────────────┘       │
│                         │                                   │
│                         ▼                                   │
│  ┌─────────────────────────────────────────────────┐       │
│  │              Middleware Layer                   │       │
│  │  ┌──────────────────────────────────────┐      │       │
│  │  │  authMiddleware    - JWT Verify      │      │       │
│  │  │  errorMiddleware   - Error Handler   │      │       │
│  │  │  validationMW      - Request Valid   │      │       │
│  │  │  rateLimitMW       - Rate Limiting   │      │       │
│  │  │  loggingMW         - Request Logs    │      │       │
│  │  │  corsMiddleware    - CORS Headers    │      │       │
│  │  └──────────────────────────────────────┘      │       │
│  └─────────────────────────────────────────────────┘       │
│                         │                                   │
│                         ▼                                   │
│  ┌─────────────────────────────────────────────────┐       │
│  │              Controller Layer                   │       │
│  │  ┌──────────────────────────────────────┐      │       │
│  │  │  Request Handling & Response         │      │       │
│  │  │                                      │      │       │
│  │  │  authController                      │      │       │
│  │  │  studentController                   │      │       │
│  │  │  scoreController                     │      │       │
│  │  │  analyticsController                 │      │       │
│  │  │                                      │      │       │
│  │  └──────────────────────────────────────┘      │       │
│  └─────────────────────────────────────────────────┘       │
│                         │                                   │
│                         ▼                                   │
│  ┌─────────────────────────────────────────────────┐       │
│  │              Service Layer                      │       │
│  │  ┌──────────────────────────────────────┐      │       │
│  │  │  Business Logic & Orchestration      │      │       │
│  │  │                                      │      │       │
│  │  │  authService     - Login, JWT        │      │       │
│  │  │  studentService  - CRUD Logic        │      │       │
│  │  │  scoreService    - Score Calc        │      │       │
│  │  │  rankingService  - Ranking Logic     │      │       │
│  │  │  emailService    - Email Sending     │      │       │
│  │  │  pdfService      - PDF Generation    │      │       │
│  │  │                                      │      │       │
│  │  └──────────────────────────────────────┘      │       │
│  └─────────────────────────────────────────────────┘       │
│                         │                                   │
│                         ▼                                   │
│  ┌─────────────────────────────────────────────────┐       │
│  │              Data Access Layer                  │       │
│  │  ┌──────────────────────────────────────┐      │       │
│  │  │     Repository Pattern (optional)    │      │       │
│  │  │                                      │      │       │
│  │  │  studentRepository                   │      │       │
│  │  │  scoreRepository                     │      │       │
│  │  │  userRepository                      │      │       │
│  │  │                                      │      │       │
│  │  └──────────────────────────────────────┘      │       │
│  │                     │                           │       │
│  │                     ▼                           │       │
│  │  ┌──────────────────────────────────────┐      │       │
│  │  │          Prisma ORM                  │      │       │
│  │  │  - Query Builder                     │      │       │
│  │  │  - Type Safety                       │      │       │
│  │  │  - Migrations                        │      │       │
│  │  └──────────────────────────────────────┘      │       │
│  └─────────────────────────────────────────────────┘       │
│                         │                                   │
│                         ▼                                   │
│                   PostgreSQL Database                       │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 4. Folder Structure

### 4.1 Root Project Structure

```
student-management/
├── frontend/                 # React frontend application
├── backend/                  # Node.js backend application
├── database/                 # Database scripts and migrations
├── nginx/                    # Nginx configuration (sites-available)
├── ecosystem.config.js       # PM2 Process Configuration
├── .env.example             # Environment variables template
├── .gitignore               # Git ignore rules
├── README.md                # Project documentation
└── docs/                    # Additional documentation
    ├── API_SPECIFICATION.md
    ├── DATABASE_SCHEMA.md
    └── DEPLOYMENT.md
```

---

### 4.2 Frontend Folder Structure

```
frontend/
├── public/                   # Static files
│   ├── index.html
│   ├── favicon.ico
│   └── logo.png
│
├── src/
│   ├── assets/              # Images, fonts, etc.
│   │   ├── images/
│   │   └── icons/
│   │
│   ├── components/          # Reusable components
│   │   ├── common/          # Generic components
│   │   │   ├── Button/
│   │   │   │   ├── Button.jsx
│   │   │   │   ├── Button.test.jsx
│   │   │   │   └── index.js
│   │   │   ├── Input/
│   │   │   ├── Modal/
│   │   │   ├── Table/
│   │   │   ├── Loading/
│   │   │   └── ErrorBoundary/
│   │   │
│   │   ├── layout/          # Layout components
│   │   │   ├── Header.jsx
│   │   │   ├── Sidebar.jsx
│   │   │   ├── Footer.jsx
│   │   │   └── MainLayout.jsx
│   │   │
│   │   ├── students/        # Student-specific components
│   │   │   ├── StudentList.jsx
│   │   │   ├── StudentForm.jsx
│   │   │   ├── StudentDetail.jsx
│   │   │   └── StudentCard.jsx
│   │   │
│   │   ├── scores/          # Score-specific components
│   │   │   ├── ScoreInput.jsx
│   │   │   ├── ScoreTable.jsx
│   │   │   └── ScoreHistory.jsx
│   │   │
│   │   └── analytics/       # Analytics components
│   │       ├── Dashboard.jsx
│   │       ├── RankingTable.jsx
│   │       ├── Charts/
│   │       │   ├── PieChart.jsx
│   │       │   └── BarChart.jsx
│   │       └── StatCard.jsx
│   │
│   ├── pages/               # Page components (routes)
│   │   ├── Login/
│   │   │   ├── Login.jsx
│   │   │   └── index.js
│   │   ├── Dashboard/
│   │   ├── Students/
│   │   ├── Scores/
│   │   ├── Rankings/
│   │   └── NotFound/
│   │
│   ├── context/             # React Context
│   │   ├── AuthContext.jsx
│   │   └── AppContext.jsx
│   │
│   ├── hooks/               # Custom React hooks
│   │   ├── useAuth.js
│   │   ├── useStudents.js
│   │   ├── useScores.js
│   │   ├── useDebounce.js
│   │   └── useLocalStorage.js
│   │
│   ├── services/            # API services
│   │   ├── api.js           # Axios instance
│   │   ├── authService.js
│   │   ├── studentService.js
│   │   ├── scoreService.js
│   │   ├── analyticsService.js
│   │   └── exportService.js
│   │
│   ├── utils/               # Utility functions
│   │   ├── validators.js
│   │   ├── formatters.js
│   │   ├── constants.js
│   │   └── helpers.js
│   │
│   ├── styles/              # Global styles
│   │   ├── index.css
│   │   └── tailwind.css
│   │
│   ├── routes/              # Route configuration
│   │   ├── index.jsx
│   │   ├── PrivateRoute.jsx
│   │   └── PublicRoute.jsx
│   │
│   ├── App.jsx              # Root component
│   ├── main.jsx             # Entry point
│   └── vite-env.d.ts        # Vite type definitions
│
├── .env.example             # Environment variables
├── .eslintrc.json           # ESLint configuration
├── .prettierrc              # Prettier configuration
├── index.html               # HTML template
├── package.json             # Dependencies
├── vite.config.js           # Vite configuration
├── tailwind.config.js       # Tailwind configuration
└── postcss.config.js        # PostCSS configuration
```

---

### 4.3 Backend Folder Structure

```
backend/
├── src/
│   ├── config/              # Configuration files
│   │   ├── database.js      # Database connection
│   │   ├── jwt.js           # JWT configuration
│   │   ├── cors.js          # CORS settings
│   │   └── constants.js     # Application constants
│   │
│   ├── controllers/         # Request handlers
│   │   ├── authController.js
│   │   ├── studentController.js
│   │   ├── scoreController.js
│   │   ├── subjectController.js
│   │   ├── analyticsController.js
│   │   ├── importController.js
│   │   └── exportController.js
│   │
│   ├── services/            # Business logic
│   │   ├── authService.js
│   │   ├── studentService.js
│   │   ├── scoreService.js
│   │   ├── rankingService.js
│   │   ├── calculationService.js
│   │   ├── emailService.js
│   │   ├── pdfService.js
│   │   └── excelService.js
│   │
│   ├── repositories/        # Data access (optional)
│   │   ├── studentRepository.js
│   │   ├── scoreRepository.js
│   │   └── userRepository.js
│   │
│   ├── models/              # Prisma models (if not using Prisma schema)
│   │   └── index.js
│   │
│   ├── middleware/          # Express middleware
│   │   ├── auth.js          # JWT authentication
│   │   ├── validation.js    # Request validation
│   │   ├── errorHandler.js  # Error handling
│   │   ├── logger.js        # Request logging
│   │   ├── rateLimit.js     # Rate limiting
│   │   └── cors.js          # CORS middleware
│   │
│   ├── routes/              # Route definitions
│   │   ├── index.js         # Route aggregator
│   │   ├── auth.routes.js
│   │   ├── student.routes.js
│   │   ├── score.routes.js
│   │   ├── subject.routes.js
│   │   ├── analytics.routes.js
│   │   ├── import.routes.js
│   │   └── export.routes.js
│   │
│   ├── validators/          # Request validators
│   │   ├── authValidator.js
│   │   ├── studentValidator.js
│   │   ├── scoreValidator.js
│   │   └── commonValidator.js
│   │
│   ├── utils/               # Utility functions
│   │   ├── logger.js        # Winston logger
│   │   ├── bcrypt.js        # Password hashing
│   │   ├── jwt.js           # JWT utilities
│   │   ├── pagination.js    # Pagination helper
│   │   ├── response.js      # Response formatter
│   │   └── errors.js        # Custom error classes
│   │
│   ├── templates/           # Email/PDF templates
│   │   ├── emails/
│   │   │   └── passwordReset.html
│   │   └── pdfs/
│   │       ├── studentReport.js
│   │       └── classReport.js
│   │
│   ├── uploads/             # Temporary file uploads
│   │   └── .gitkeep
│   │
│   ├── app.js               # Express app setup
│   └── server.js            # Server entry point
│
├── prisma/                  # Prisma ORM
│   ├── schema.prisma        # Database schema
│   ├── migrations/          # Migration files
│   └── seed.js              # Seed data script
│
├── tests/                   # Test files
│   ├── unit/
│   │   ├── services/
│   │   └── utils/
│   ├── integration/
│   │   └── api/
│   └── setup.js
│
├── .env.example             # Environment variables
├── .eslintrc.json           # ESLint configuration
├── .prettierrc              # Prettier configuration
├── package.json             # Dependencies
└── nodemon.json             # Nodemon configuration
```

---

### 4.4 Database Folder Structure

```
database/
├── migrations/              # SQL migration files
│   ├── 001_initial_schema.sql
│   ├── 002_add_triggers.sql
│   └── 003_add_indexes.sql
│
├── seeds/                   # Seed data
│   ├── 001_users.sql
│   ├── 002_subjects.sql
│   └── 003_sample_data.sql
│
├── scripts/                 # Utility scripts
│   ├── backup.sh
│   ├── restore.sh
│   └── reset.sh
│
├── init.sql                 # Initial setup script

```

---

### 4.5 Nginx Folder Structure

```
nginx/
├── nginx.conf               # Main nginx configuration
├── nginx.prod.conf          # Production configuration
├── ssl/                     # SSL certificates
│   ├── cert.pem
│   ├── key.pem
│   └── README.md
└── logs/                    # Nginx logs (if needed)
    └── .gitkeep
```

---

## 5. Code Organization

### 5.1 Naming Conventions

#### Files & Folders
```javascript
// Component files (React)
StudentList.jsx              // PascalCase for components
studentService.js            // camelCase for services
student.routes.js            // kebab-case for routes
student-utils.js             // kebab-case for utilities

// Folders
components/                  // lowercase
common/                      // lowercase
StudentCard/                 // PascalCase for component folders
```

#### Variables & Functions
```javascript
// Variables
const studentData = {};              // camelCase
const MAX_STUDENTS = 100;            // UPPER_CASE for constants
let isLoading = false;               // boolean prefix: is, has, should

// Functions
function getStudentById() {}         // camelCase, verb prefix
function calculateAverage() {}       // verb prefix
const handleSubmit = () => {};       // event handler prefix: handle

// Classes
class StudentService {}              // PascalCase
class ApiError {}                    // PascalCase

// React Components
const StudentList = () => {};        // PascalCase
const useAuth = () => {};            // camelCase for hooks
```

#### Database
```sql
-- Tables
students                     -- lowercase, plural
users                        -- lowercase, plural

-- Columns
student_code                 -- snake_case
full_name                    -- snake_case

-- Indexes
idx_students_code            -- prefix: idx_
fk_scores_student            -- prefix: fk_
```

---

### 5.2 Code Style Guide

#### JavaScript/TypeScript

**ESLint Configuration (.eslintrc.json):**
```json
{
  "env": {
    "node": true,
    "es2021": true
  },
  "extends": [
    "eslint:recommended",
    "plugin:prettier/recommended"
  ],
  "parserOptions": {
    "ecmaVersion": 2021,
    "sourceType": "module"
  },
  "rules": {
    "no-console": "warn",
    "no-unused-vars": "warn",
    "prefer-const": "error",
    "no-var": "error",
    "arrow-spacing": "error",
    "comma-dangle": ["error", "always-multiline"],
    "quotes": ["error", "single"],
    "semi": ["error", "always"]
  }
}
```

**Prettier Configuration (.prettierrc):**
```json
{
  "semi": true,
  "trailingComma": "all",
  "singleQuote": true,
  "printWidth": 100,
  "tabWidth": 2,
  "useTabs": false,
  "arrowParens": "always"
}
```

---

### 5.3 Import Organization

```javascript
// 1. External libraries
import React, { useState, useEffect } from 'react';
import axios from 'axios';

// 2. Internal modules (absolute imports)
import { AuthContext } from '@/context/AuthContext';
import { studentService } from '@/services/studentService';

// 3. Components
import Button from '@/components/common/Button';
import StudentForm from '@/components/students/StudentForm';

// 4. Utils
import { formatDate } from '@/utils/formatters';
import { CONSTANTS } from '@/utils/constants';

// 5. Styles
import './StudentList.css';
```

---

### 5.4 Module Pattern Examples

#### Service Layer Pattern
```javascript
// backend/src/services/studentService.js

class StudentService {
  constructor(studentRepository) {
    this.repository = studentRepository;
  }

  async getAllStudents(filters, pagination) {
    try {
      const students = await this.repository.findAll(filters, pagination);
      return students;
    } catch (error) {
      throw new ServiceError('Failed to fetch students', error);
    }
  }

  async createStudent(studentData) {
    // Validation
    this.validateStudentData(studentData);
    
    // Business logic
    const student = await this.repository.create(studentData);
    
    // Audit logging
    await this.logAction('CREATE', student);
    
    return student;
  }

  validateStudentData(data) {
    // Validation logic
  }

  async logAction(action, data) {
    // Audit logging
  }
}

module.exports = new StudentService(studentRepository);
```

#### Controller Pattern
```javascript
// backend/src/controllers/studentController.js

const studentService = require('../services/studentService');
const { successResponse, errorResponse } = require('../utils/response');

class StudentController {
  async getAllStudents(req, res, next) {
    try {
      const { page = 1, limit = 20, search, gender } = req.query;
      
      const result = await studentService.getAllStudents(
        { search, gender },
        { page, limit }
      );
      
      return successResponse(res, result, 'Students fetched successfully');
    } catch (error) {
      next(error);
    }
  }

  async createStudent(req, res, next) {
    try {
      const student = await studentService.createStudent(req.body);
      return successResponse(res, student, 'Student created successfully', 201);
    } catch (error) {
      next(error);
    }
  }
}

module.exports = new StudentController();
```

#### React Component Pattern
```javascript
// frontend/src/components/students/StudentList.jsx

import React, { useState, useEffect } from 'react';
import { studentService } from '@/services/studentService';
import { useAuth } from '@/hooks/useAuth';
import Table from '@/components/common/Table';
import Loading from '@/components/common/Loading';

const StudentList = () => {
  const [students, setStudents] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  const { user } = useAuth();

  useEffect(() => {
    fetchStudents();
  }, []);

  const fetchStudents = async () => {
    try {
      setLoading(true);
      const data = await studentService.getAll();
      setStudents(data.students);
    } catch (err) {
      setError(err.message);
    } finally {
      setLoading(false);
    }
  };

  if (loading) return <Loading />;
  if (error) return <div>Error: {error}</div>;

  return (
    <div className="student-list">
      <h1>Danh sách học sinh</h1>
      <Table data={students} columns={columns} />
    </div>
  );
};

export default StudentList;
```

---

## 6. Design Patterns

### 6.1 Backend Patterns

#### 6.1.1 Repository Pattern

**Purpose:** Separate data access logic from business logic

```javascript
// studentRepository.js
class StudentRepository {
  constructor(prisma) {
    this.prisma = prisma;
  }

  async findAll(filters = {}, pagination = {}) {
    const { page = 1, limit = 20 } = pagination;
    const skip = (page - 1) * limit;

    const where = {
      isDeleted: false,
      ...(filters.search && {
        OR: [
          { fullName: { contains: filters.search, mode: 'insensitive' } },
          { studentCode: { contains: filters.search, mode: 'insensitive' } },
        ],
      }),
      ...(filters.gender && { gender: filters.gender }),
    };

    const [students, total] = await Promise.all([
      this.prisma.student.findMany({
        where,
        skip,
        take: limit,
        orderBy: { fullName: 'asc' },
      }),
      this.prisma.student.count({ where }),
    ]);

    return { students, total };
  }

  async findById(id) {
    return this.prisma.student.findUnique({
      where: { id },
      include: {
        scores: {
          include: { subject: true },
        },
      },
    });
  }

  async create(data) {
    return this.prisma.student.create({ data });
  }

  async update(id, data) {
    return this.prisma.student.update({
      where: { id },
      data,
    });
  }

  async softDelete(id, userId) {
    return this.prisma.student.update({
      where: { id },
      data: {
        isDeleted: true,
        deletedAt: new Date(),
        deletedById: userId,
      },
    });
  }
}

module.exports = StudentRepository;
```

---

#### 6.1.2 Middleware Pattern

```javascript
// middleware/auth.js
const jwt = require('jsonwebtoken');
const { UnauthorizedError } = require('../utils/errors');

const authMiddleware = (req, res, next) => {
  try {
    const token = req.headers.authorization?.split(' ')[1];
    
    if (!token) {
      throw new UnauthorizedError('No token provided');
    }

    const decoded = jwt.verify(token, process.env.JWT_SECRET);
    req.user = decoded;
    next();
  } catch (error) {
    next(new UnauthorizedError('Invalid token'));
  }
};

module.exports = authMiddleware;
```

---

#### 6.1.3 Factory Pattern

```javascript
// utils/errors.js
class AppError extends Error {
  constructor(message, statusCode) {
    super(message);
    this.statusCode = statusCode;
    this.isOperational = true;
    Error.captureStackTrace(this, this.constructor);
  }
}

class ValidationError extends AppError {
  constructor(message) {
    super(message, 400);
  }
}

class UnauthorizedError extends AppError {
  constructor(message) {
    super(message, 401);
  }
}

class NotFoundError extends AppError {
  constructor(message) {
    super(message, 404);
  }
}

module.exports = {
  AppError,
  ValidationError,
  UnauthorizedError,
  NotFoundError,
};
```

---

### 6.2 Frontend Patterns

#### 6.2.1 Custom Hooks Pattern

```javascript
// hooks/useStudents.js
import { useState, useEffect } from 'react';
import { studentService } from '@/services/studentService';

export const useStudents = (filters = {}) => {
  const [students, setStudents] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  const [pagination, setPagination] = useState({
    page: 1,
    total: 0,
    totalPages: 0,
  });

  useEffect(() => {
    fetchStudents();
  }, [filters.page, filters.search]);

  const fetchStudents = async () => {
    try {
      setLoading(true);
      const response = await studentService.getAll(filters);
      setStudents(response.data.students);
      setPagination(response.data.pagination);
    } catch (err) {
      setError(err.message);
    } finally {
      setLoading(false);
    }
  };

  const createStudent = async (studentData) => {
    const newStudent = await studentService.create(studentData);
    setStudents([...students, newStudent]);
    return newStudent;
  };

  const updateStudent = async (id, studentData) => {
    const updated = await studentService.update(id, studentData);
    setStudents(students.map(s => s.id === id ? updated : s));
    return updated;
  };

  const deleteStudent = async (id) => {
    await studentService.delete(id);
    setStudents(students.filter(s => s.id !== id));
  };

  return {
    students,
    loading,
    error,
    pagination,
    createStudent,
    updateStudent,
    deleteStudent,
    refresh: fetchStudents,
  };
};
```

---

#### 6.2.2 Higher-Order Component (HOC) Pattern

```javascript
// hoc/withAuth.jsx
import React from 'react';
import { Navigate } from 'react-router-dom';
import { useAuth } from '@/hooks/useAuth';

export const withAuth = (Component) => {
  return (props) => {
    const { user, loading } = useAuth();

    if (loading) {
      return <div>Loading...</div>;
    }

    if (!user) {
      return <Navigate to="/login" replace />;
    }

    return <Component {...props} />;
  };
};
```

---

#### 6.2.3 Compound Component Pattern

```javascript
// components/common/Table/Table.jsx
import React, { createContext, useContext } from 'react';

const TableContext = createContext();

export const Table = ({ data, children }) => {
  return (
    <TableContext.Provider value={{ data }}>
      <table className="w-full">{children}</table>
    </TableContext.Provider>
  );
};

Table.Header = ({ children }) => {
  return (
    <thead className="bg-gray-100">
      <tr>{children}</tr>
    </thead>
  );
};

Table.Body = ({ children }) => {
  const { data } = useContext(TableContext);
  return <tbody>{data.map((row, i) => children(row, i))}</tbody>;
};

Table.Column = ({ children }) => {
  return <th className="px-4 py-2">{children}</th>;
};

Table.Cell = ({ children }) => {
  return <td className="px-4 py-2">{children}</td>;
};

// Usage:
// <Table data={students}>
//   <Table.Header>
//     <Table.Column>Name</Table.Column>
//     <Table.Column>Code</Table.Column>
//   </Table.Header>
//   <Table.Body>
//     {(student) => (
//       <>
//         <Table.Cell>{student.fullName}</Table.Cell>
//         <Table.Cell>{student.studentCode}</Table.Cell>
//       </>
//     )}
//   </Table.Body>
// </Table>
```

---

## 7. Security Architecture

### 7.1 Authentication Flow

```
┌─────────────┐                                    ┌─────────────┐
│   Client    │                                    │   Server    │
└──────┬──────┘                                    └──────┬──────┘
       │                                                  │
       │  1. POST /api/auth/login                        │
       │     { username, password }                      │
       ├────────────────────────────────────────────────>│
       │                                                  │
       │                                        2. Validate credentials
       │                                        3. Hash password
       │                                        4. Compare with DB
       │                                                  │
       │  5. Response: { token, user }                   │
       │<────────────────────────────────────────────────┤
       │                                                  │
       │  6. Store token in localStorage                 │
       │                                                  │
       │  7. Subsequent requests                         │
       │     Authorization: Bearer {token}               │
       ├────────────────────────────────────────────────>│
       │                                                  │
       │                                        8. Verify JWT
       │                                        9. Extract user info
       │                                        10. Process request
       │                                                  │
       │  11. Response with data                         │
       │<────────────────────────────────────────────────┤
       │                                                  │
```

---

### 7.2 Security Measures

#### 7.2.1 Password Security

```javascript
// utils/bcrypt.js
const bcrypt = require('bcrypt');

const SALT_ROUNDS = 10;

exports.hashPassword = async (password) => {
  return bcrypt.hash(password, SALT_ROUNDS);
};

exports.comparePassword = async (password, hash) => {
  return bcrypt.compare(password, hash);
};
```

#### 7.2.2 JWT Security

```javascript
// config/jwt.js
const jwt = require('jsonwebtoken');

const JWT_SECRET = process.env.JWT_SECRET;
const JWT_EXPIRE = process.env.JWT_EXPIRE || '7d';

exports.generateToken = (payload) => {
  return jwt.sign(payload, JWT_SECRET, { expiresIn: JWT_EXPIRE });
};

exports.verifyToken = (token) => {
  return jwt.verify(token, JWT_SECRET);
};
```

#### 7.2.3 CORS Configuration

```javascript
// middleware/cors.js
const cors = require('cors');

const corsOptions = {
  origin: process.env.CORS_ORIGIN || 'http://localhost:5173',
  credentials: true,
  optionsSuccessStatus: 200,
};

module.exports = cors(corsOptions);
```

#### 7.2.4 Rate Limiting

```javascript
// middleware/rateLimit.js
const rateLimit = require('express-rate-limit');

exports.loginLimiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15 minutes
  max: 5, // 5 requests per window
  message: 'Too many login attempts, please try again later',
});

exports.apiLimiter = rateLimit({
  windowMs: 60 * 1000, // 1 minute
  max: 100, // 100 requests per minute
  message: 'Too many requests, please slow down',
});
```

#### 7.2.5 Input Validation

```javascript
// validators/studentValidator.js
const Joi = require('joi');

exports.createStudentSchema = Joi.object({
  studentCode: Joi.string()
    .pattern(/^[A-Z0-9]+$/)
    .max(20)
    .required(),
  fullName: Joi.string()
    .min(2)
    .max(100)
    .required(),
  dateOfBirth: Joi.date()
    .max('now')
    .required(),
  gender: Joi.string()
    .valid('Nam', 'Nữ')
    .required(),
  address: Joi.string()
    .max(500)
    .optional(),
  parentPhone: Joi.string()
    .pattern(/^0[0-9]{9}$/)
    .optional(),
  parentEmail: Joi.string()
    .email()
    .optional(),
});
```

---

### 7.3 Data Sanitization

```javascript
// middleware/sanitize.js
const mongoSanitize = require('express-mongo-sanitize');
const xss = require('xss-clean');

exports.sanitizeData = [
  mongoSanitize(), // Prevent NoSQL injection
  xss(), // Prevent XSS attacks
];
```

---

## 8. Data Flow

### 8.1 Create Student Flow

```
┌──────────┐       ┌──────────┐       ┌──────────┐       ┌──────────┐
│  Client  │       │ Frontend │       │ Backend  │       │ Database │
└────┬─────┘       └────┬─────┘       └────┬─────┘       └────┬─────┘
     │                  │                  │                  │
     │ 1. Fill form     │                  │                  │
     ├─────────────────>│                  │                  │
     │                  │                  │                  │
     │ 2. Click submit  │                  │                  │
     ├─────────────────>│                  │                  │
     │                  │ 3. Validate      │                  │
     │                  │    (client-side) │                  │
     │                  │                  │                  │
     │                  │ 4. POST /api/students              │
     │                  │    + JWT token   │                  │
     │                  ├─────────────────>│                  │
     │                  │                  │ 5. Verify JWT    │
     │                  │                  │                  │
     │                  │                  │ 6. Validate data │
     │                  │                  │                  │
     │                  │                  │ 7. Check unique  │
     │                  │                  │    student_code  │
     │                  │                  ├─────────────────>│
     │                  │                  │                  │
     │                  │                  │ 8. Return result │
     │                  │                  │<─────────────────┤
     │                  │                  │                  │
     │                  │                  │ 9. INSERT student│
     │                  │                  ├─────────────────>│
     │                  │                  │                  │
     │                  │                  │ 10. Return new   │
     │                  │                  │     student      │
     │                  │                  │<─────────────────┤
     │                  │                  │                  │
     │                  │                  │ 11. Log action   │
     │                  │                  │     (audit_logs) │
     │                  │                  ├─────────────────>│
     │                  │                  │                  │
     │                  │ 12. Response     │                  │
     │                  │     201 Created  │                  │
     │                  │<─────────────────┤                  │
     │                  │                  │                  │
     │                  │ 13. Update state │                  │
     │                  │     (add to list)│                  │
     │                  │                  │                  │
     │ 14. Show success │                  │                  │
     │     message      │                  │                  │
     │<─────────────────┤                  │                  │
     │                  │                  │                  │
```

---

### 8.2 Calculate Rankings Flow

```
┌──────────┐       ┌──────────┐       ┌──────────┐
│ Trigger  │       │ Service  │       │ Database │
└────┬─────┘       └────┬─────┘       └────┬─────┘
     │                  │                  │
     │ Score changed    │                  │
     ├─────────────────>│                  │
     │                  │                  │
     │                  │ 1. Get all scores│
     │                  │    for student   │
     │                  ├─────────────────>│
     │                  │                  │
     │                  │ 2. Return scores │
     │                  │<─────────────────┤
     │                  │                  │
     │                  │ 3. Calculate     │
     │                  │    subject avg   │
     │                  │    (with weights)│
     │                  │                  │
     │                  │ 4. Calculate     │
     │                  │    overall avg   │
     │                  │                  │
     │                  │ 5. Update student│
     │                  │    avg_score     │
     │                  ├─────────────────>│
     │                  │                  │
     │                  │ 6. Get all       │
     │                  │    students with │
     │                  │    avg_score     │
     │                  ├─────────────────>│
     │                  │                  │
     │                  │ 7. Return list   │
     │                  │<─────────────────┤
     │                  │                  │
     │                  │ 8. Apply         │
     │                  │    DENSE_RANK()  │
     │                  │                  │
     │                  │ 9. Update ranks  │
     │                  ├─────────────────>│
     │                  │                  │
     │ Rankings updated │                  │
     │<─────────────────┤                  │
     │                  │                  │
```

---

## 9. Error Handling

### 9.1 Error Handling Strategy

```javascript
// middleware/errorHandler.js
const { AppError } = require('../utils/errors');
const logger = require('../utils/logger');

const errorHandler = (err, req, res, next) => {
  // Log error
  logger.error({
    message: err.message,
    stack: err.stack,
    url: req.url,
    method: req.method,
    user: req.user?.id,
  });

  // Operational errors (known errors)
  if (err.isOperational) {
    return res.status(err.statusCode).json({
      success: false,
      error: {
        code: err.constructor.name.replace('Error', '').toUpperCase(),
        message: err.message,
      },
    });
  }

  // Programming errors (unknown errors)
  console.error('ERROR 💥', err);
  
  return res.status(500).json({
    success: false,
    error: {
      code: 'INTERNAL_SERVER_ERROR',
      message: 'Something went wrong',
    },
  });
};

module.exports = errorHandler;
```

---

### 9.2 Frontend Error Handling

```javascript
// services/api.js
import axios from 'axios';

const api = axios.create({
  baseURL: import.meta.env.VITE_API_URL,
  timeout: 10000,
});

// Request interceptor
api.interceptors.request.use(
  (config) => {
    const token = localStorage.getItem('token');
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  },
  (error) => Promise.reject(error)
);

// Response interceptor
api.interceptors.response.use(
  (response) => response.data,
  (error) => {
    if (error.response?.status === 401) {
      // Redirect to login
      localStorage.removeItem('token');
      window.location.href = '/login';
    }

    const errorMessage = error.response?.data?.error?.message || 'An error occurred';
    
    return Promise.reject(new Error(errorMessage));
  }
);

export default api;
```

---

## 10. Logging & Monitoring

### 10.1 Winston Logger Configuration

```javascript
// utils/logger.js
const winston = require('winston');
const path = require('path');

const logger = winston.createLogger({
  level: process.env.LOG_LEVEL || 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.errors({ stack: true }),
    winston.format.json()
  ),
  transports: [
    // Write all logs to console
    new winston.transports.Console({
      format: winston.format.combine(
        winston.format.colorize(),
        winston.format.simple()
      ),
    }),
    // Write all logs to combined.log
    new winston.transports.File({
      filename: path.join(__dirname, '../../logs/combined.log'),
    }),
    // Write errors to error.log
    new winston.transports.File({
      filename: path.join(__dirname, '../../logs/error.log'),
      level: 'error',
    }),
  ],
});

module.exports = logger;
```

---

### 10.2 Request Logging Middleware

```javascript
// middleware/logger.js
const logger = require('../utils/logger');

const requestLogger = (req, res, next) => {
  const start = Date.now();

  res.on('finish', () => {
    const duration = Date.now() - start;
    
    logger.info({
      method: req.method,
      url: req.url,
      status: res.statusCode,
      duration: `${duration}ms`,
      user: req.user?.id,
      ip: req.ip,
    });
  });

  next();
};

module.exports = requestLogger;
```

---

## 11. Performance Considerations

### 11.1 Database Query Optimization

```javascript
// Good: Use indexes
await prisma.student.findMany({
  where: { studentCode: 'HS001' }, // Indexed column
});

// Good: Select only needed fields
await prisma.student.findMany({
  select: {
    id: true,
    fullName: true,
    studentCode: true,
  },
});

// Good: Use pagination
await prisma.student.findMany({
  skip: (page - 1) * limit,
  take: limit,
});

// Bad: N+1 query problem
const students = await prisma.student.findMany();
for (const student of students) {
  const scores = await prisma.score.findMany({
    where: { studentId: student.id },
  }); // N additional queries
}

// Good: Use include to join
const students = await prisma.student.findMany({
  include: {
    scores: true,
  },
}); // Single query with join
```

---

### 11.2 Caching Strategy

```javascript
// Simple in-memory cache (for small data)
const NodeCache = require('node-cache');
const cache = new NodeCache({ stdTTL: 300 }); // 5 minutes

const getSubjects = async () => {
  const cached = cache.get('subjects');
  if (cached) return cached;

  const subjects = await prisma.subject.findMany();
  cache.set('subjects', subjects);
  
  return subjects;
};
```

---

### 11.3 Frontend Performance

```javascript
// Code splitting with React.lazy
import React, { lazy, Suspense } from 'react';

const Dashboard = lazy(() => import('./pages/Dashboard'));
const Students = lazy(() => import('./pages/Students'));

function App() {
  return (
    <Suspense fallback={<Loading />}>
      <Routes>
        <Route path="/dashboard" element={<Dashboard />} />
        <Route path="/students" element={<Students />} />
      </Routes>
    </Suspense>
  );
}
```

```javascript
// Debounce for search
import { useState, useEffect } from 'react';
import { useDebounce } from '@/hooks/useDebounce';

const StudentSearch = () => {
  const [search, setSearch] = useState('');
  const debouncedSearch = useDebounce(search, 500);

  useEffect(() => {
    if (debouncedSearch) {
      fetchStudents(debouncedSearch);
    }
  }, [debouncedSearch]);

  return (
    <input
      value={search}
      onChange={(e) => setSearch(e.target.value)}
      placeholder="Search..."
    />
  );
};
```

---

## 12. Development Workflow

### 12.1 Git Workflow

```
main (production)
  │
  ├─ develop (staging)
  │    │
  │    ├─ feature/add-student-crud
  │    ├─ feature/score-calculation
  │    ├─ bugfix/fix-ranking-logic
  │    └─ hotfix/security-patch
  │
  └─ release/v1.0.0
```

**Branch Naming:**
- `feature/` - New features
- `bugfix/` - Bug fixes
- `hotfix/` - Production hotfixes
- `release/` - Release branches

**Commit Message Format:**
```
type(scope): subject

body (optional)

footer (optional)
```

**Types:**
- `feat`: New feature
- `fix`: Bug fix
- `docs`: Documentation
- `style`: Formatting
- `refactor`: Code refactoring
- `test`: Tests
- `chore`: Maintenance

**Example:**
```
feat(students): add student search functionality

- Implement debounced search
- Add search by name and code
- Update UI with search input

Closes #123
```

---

### 12.2 Development Commands

```bash
# Frontend
cd frontend
npm install              # Install dependencies
npm run dev             # Start dev server (port 5173)
npm run build           # Build for production
npm run preview         # Preview production build
npm run lint            # Run ESLint
npm run format          # Run Prettier

# Backend
cd backend
npm install              # Install dependencies
npm run dev             # Start dev server with nodemon
npm start               # Start production server
npm run prisma:migrate  # Run database migrations
npm run prisma:seed     # Seed database
npm test                # Run tests
npm run lint            # Run ESLint

# PM2 (Process Manager)
pm2 list                   # List processes
pm2 logs                   # View logs
pm2 restart all            # Restart all apps
pm2 stop all               # Stop all apps
pm2 delete all             # Delete all apps
```

---

### 12.3 Testing Strategy

```javascript
// Unit test example (Jest)
// backend/tests/unit/services/calculationService.test.js

const { calculateSubjectAverage } = require('../../../src/services/calculationService');

describe('calculationService', () => {
  describe('calculateSubjectAverage', () => {
    it('should calculate correct weighted average', () => {
      const scores = [
        { type: 'KTM', value: 8 },
        { type: 'KT15', value: 9 },
        { type: 'KT1T', value: 8.5 },
        { type: 'THHK', value: 9 },
      ];

      const result = calculateSubjectAverage(scores);
      
      expect(result).toBe(8.7); // (8*1 + 9*1 + 8.5*2 + 9*3) / 7
    });

    it('should return null when no scores', () => {
      const result = calculateSubjectAverage([]);
      expect(result).toBeNull();
    });
  });
});
```

---

**Document Version:** 1.0  
**Last Updated:** 31/01/2026  
**Status:** Ready for Implementation

---

## Summary

This Technical Architecture document provides:

✅ **Complete System Architecture** - 3-tier monolithic on Ubuntu (PM2 + Nginx)  
✅ **Detailed Folder Structures** - Frontend, Backend, Database, Nginx  
✅ **Code Organization** - Naming conventions, style guides, patterns  
✅ **Design Patterns** - Repository, Service, HOC, Custom Hooks  
✅ **Security Architecture** - Authentication, authorization, validation  
✅ **Data Flow Diagrams** - Visual representation of key processes  
✅ **Error Handling** - Centralized error management  
✅ **Logging & Monitoring** - Winston logger configuration  
✅ **Performance** - Optimization strategies  
✅ **Development Workflow** - Git workflow, commands, testing  

Ready for Antigravity IDE implementation! 🚀
