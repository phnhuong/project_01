# Test Plan - H·ªá Th·ªëng Qu·∫£n L√Ω H·ªçc Sinh

---

## Th√¥ng Tin T√†i Li·ªáu

**D·ª± √°n:** H·ªá Th·ªëng Qu·∫£n L√Ω H·ªçc Sinh  
**Test Manager:** QA Team Lead  
**Ng√†y t·∫°o:** 31/01/2026  
**Phi√™n b·∫£n:** 1.0  
**Tr·∫°ng th√°i:** Draft

---

## M·ª•c L·ª•c

1. [Test Overview](#1-test-overview)
2. [Test Scope](#2-test-scope)
3. [Test Strategy](#3-test-strategy)
4. [Test Levels](#4-test-levels)
5. [Test Cases](#5-test-cases)
6. [Test Data](#6-test-data)
7. [Test Environment](#7-test-environment)
8. [Test Schedule](#8-test-schedule)
9. [Defect Management](#9-defect-management)
10. [Test Deliverables](#10-test-deliverables)
11. [Entry & Exit Criteria](#11-entry--exit-criteria)
12. [Risks & Mitigation](#12-risks--mitigation)

---

## 1. Test Overview

### 1.1 Introduction

T√†i li·ªáu n√†y m√¥ t·∫£ k·∫ø ho·∫°ch ki·ªÉm th·ª≠ cho H·ªá Th·ªëng Qu·∫£n L√Ω H·ªçc Sinh - m·ªôt ·ª©ng d·ª•ng web gi√∫p gi√°o vi√™n qu·∫£n l√Ω th√¥ng tin h·ªçc sinh, ƒëi·ªÉm s·ªë v√† x·∫øp h·∫°ng.

### 1.2 Test Objectives

| Objective | Description | Success Criteria |
|-----------|-------------|------------------|
| **Functional Correctness** | ƒê·∫£m b·∫£o t·∫•t c·∫£ ch·ª©c nƒÉng ho·∫°t ƒë·ªông ƒë√∫ng theo PRD | 100% test cases pass |
| **Data Integrity** | ƒê·∫£m b·∫£o t√≠nh to√°n ƒëi·ªÉm TB v√† x·∫øp h·∫°ng ch√≠nh x√°c | 0 calculation errors |
| **Usability** | ƒê·∫£m b·∫£o UI/UX d·ªÖ s·ª≠ d·ª•ng | > 4/5 user satisfaction |
| **Performance** | ƒê·∫£m b·∫£o response time < 2s | 95% requests < 2s |
| **Security** | ƒê·∫£m b·∫£o authentication & authorization ho·∫°t ƒë·ªông | 0 security vulnerabilities |
| **Compatibility** | ƒê·∫£m b·∫£o ho·∫°t ƒë·ªông tr√™n c√°c browsers | Chrome, Firefox, Edge support |

### 1.3 Test Approach

- **Test-Driven Development (TDD)** cho backend services
- **Manual Testing** cho UI/UX v√† user flows
- **Automated Testing** cho regression tests
- **Exploratory Testing** cho edge cases
- **Performance Testing** cho load testing

---

## 2. Test Scope

### 2.1 In Scope

‚úÖ **Modules to Test:**

1. **Authentication Module**
   - Login/Logout
   - Password reset
   - Session management

2. **Student Management Module**
   - CRUD operations
   - Search & filter
   - Soft delete & restore

3. **Score Management Module**
   - Score input (single & batch)
   - Score validation
   - Score history

4. **Calculation Module**
   - Subject average calculation
   - Overall average calculation
   - Ranking calculation

5. **Analytics & Reports Module**
   - Dashboard statistics
   - Rankings table
   - PDF/Excel export

6. **Import/Export Module**
   - Import students from Excel
   - Import scores from Excel
   - Export to Excel/PDF

‚úÖ **Test Types:**
- Unit Testing
- Integration Testing
- Functional Testing
- UI Testing
- API Testing
- Performance Testing
- Security Testing
- Compatibility Testing

---

### 2.2 Out of Scope

‚ùå **Not Included:**

- Mobile app testing (future phase)
- Third-party integrations (email service - tested separately)
- Backup/restore procedures (DevOps responsibility)
- Multi-language support (MVP only Vietnamese)
- Advanced analytics (future phase)

---

## 3. Test Strategy

### 3.1 Test Pyramid

```
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   E2E (10%) ‚îÇ
        ‚îÇ   UI Tests  ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
      ‚îÇ  Integration (30%) ‚îÇ
      ‚îÇ   API Tests        ‚îÇ
      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   Unit Tests (60%)      ‚îÇ
    ‚îÇ   Service Logic         ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Rationale:**
- **60% Unit Tests** - Fast, isolated, easy to maintain
- **30% Integration Tests** - Verify module interactions
- **10% E2E Tests** - Critical user journeys

---

### 3.2 Testing Methodology

#### 3.2.1 Agile Testing Quadrants

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Q1: Technology Facing       ‚îÇ Q2: Business Facing         ‚îÇ
‚îÇ     Supporting Development  ‚îÇ     Supporting Development  ‚îÇ
‚îÇ                             ‚îÇ                             ‚îÇ
‚îÇ ‚Ä¢ Unit Tests                ‚îÇ ‚Ä¢ Functional Tests          ‚îÇ
‚îÇ ‚Ä¢ Component Tests           ‚îÇ ‚Ä¢ Story Tests               ‚îÇ
‚îÇ ‚Ä¢ API Tests                 ‚îÇ ‚Ä¢ Prototypes                ‚îÇ
‚îÇ                             ‚îÇ ‚Ä¢ Simulations               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Q3: Business Facing         ‚îÇ Q4: Technology Facing       ‚îÇ
‚îÇ     Critiquing Product      ‚îÇ     Critiquing Product      ‚îÇ
‚îÇ                             ‚îÇ                             ‚îÇ
‚îÇ ‚Ä¢ Exploratory Testing       ‚îÇ ‚Ä¢ Performance Testing       ‚îÇ
‚îÇ ‚Ä¢ Usability Testing         ‚îÇ ‚Ä¢ Security Testing          ‚îÇ
‚îÇ ‚Ä¢ UAT                       ‚îÇ ‚Ä¢ Load Testing              ‚îÇ
‚îÇ                             ‚îÇ                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 3.3 Test Automation Strategy

| Test Type | Automation % | Tools | Priority |
|-----------|--------------|-------|----------|
| Unit Tests | 100% | Jest, Vitest | High |
| API Tests | 80% | Supertest, Postman | High |
| Integration Tests | 70% | Jest + Local DB | Medium |
| UI Tests | 30% | Playwright, Cypress | Medium |
| Performance Tests | 100% | k6, Artillery | Medium |
| Security Tests | 50% | OWASP ZAP | Low |

**Automation Goals:**
- Sprint 1-2: Setup test infrastructure
- Sprint 3-4: 60% automation coverage
- Sprint 5-6: 80% automation coverage

---

## 4. Test Levels

### 4.1 Unit Testing

**Scope:** Individual functions, methods, components

**Coverage Target:** > 80%

#### 4.1.1 Backend Unit Tests (Jest)

**Test Areas:**
```javascript
// Service layer
describe('StudentService', () => {
  describe('createStudent', () => {
    it('should create student with valid data', async () => {
      const studentData = {
        studentCode: 'HS001',
        fullName: 'Nguy·ªÖn VƒÉn A',
        dateOfBirth: '2010-05-15',
        gender: 'Nam'
      };
      
      const result = await studentService.createStudent(studentData);
      
      expect(result).toHaveProperty('id');
      expect(result.studentCode).toBe('HS001');
    });
    
    it('should throw error when student code exists', async () => {
      await expect(
        studentService.createStudent({ studentCode: 'HS001' })
      ).rejects.toThrow('Student code already exists');
    });
  });
});

// Calculation service
describe('CalculationService', () => {
  describe('calculateSubjectAverage', () => {
    it('should calculate correct weighted average', () => {
      const scores = [
        { type: 'KTM', value: 8 },
        { type: 'KT15', value: 9 },
        { type: 'KT1T', value: 8.5 },
        { type: 'THHK', value: 9 }
      ];
      
      const avg = calculateSubjectAverage(scores);
      
      // (8*1 + 9*1 + 8.5*2 + 9*3) / (1+1+2+3) = 8.71
      expect(avg).toBe(8.7);
    });
    
    it('should return null when no scores', () => {
      expect(calculateSubjectAverage([])).toBeNull();
    });
  });
});

// Validation
describe('StudentValidator', () => {
  it('should validate phone number format', () => {
    expect(validatePhone('0912345678')).toBe(true);
    expect(validatePhone('1234567890')).toBe(false);
    expect(validatePhone('091234567')).toBe(false);
  });
});
```

---

#### 4.1.2 Frontend Unit Tests (Vitest)

```javascript
// Component tests
describe('StudentForm', () => {
  it('should render all form fields', () => {
    render(<StudentForm />);
    
    expect(screen.getByLabelText('M√£ h·ªçc sinh')).toBeInTheDocument();
    expect(screen.getByLabelText('H·ªç v√† t√™n')).toBeInTheDocument();
    expect(screen.getByLabelText('Ng√†y sinh')).toBeInTheDocument();
  });
  
  it('should show validation errors', async () => {
    render(<StudentForm />);
    
    const submitButton = screen.getByText('L∆∞u');
    fireEvent.click(submitButton);
    
    await waitFor(() => {
      expect(screen.getByText('M√£ h·ªçc sinh kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng')).toBeInTheDocument();
    });
  });
});

// Hook tests
describe('useStudents', () => {
  it('should fetch students on mount', async () => {
    const { result } = renderHook(() => useStudents());
    
    await waitFor(() => {
      expect(result.current.loading).toBe(false);
      expect(result.current.students).toHaveLength(5);
    });
  });
});

// Utility tests
describe('formatters', () => {
  it('should format date correctly', () => {
    expect(formatDate('2010-05-15')).toBe('15/05/2010');
  });
  
  it('should format score correctly', () => {
    expect(formatScore(8.75)).toBe('8.8');
    expect(formatScore(null)).toBe('--');
  });
});
```

---

### 4.2 Integration Testing

**Scope:** Module interactions, API endpoints, database operations

#### 4.2.1 API Integration Tests

```javascript
describe('Student API', () => {
  let authToken;
  
  beforeAll(async () => {
    // Login to get token
    const res = await request(app)
      .post('/api/auth/login')
      .send({ username: 'teacher01', password: 'password123' });
    authToken = res.body.data.token;
  });
  
  describe('POST /api/students', () => {
    it('should create student with valid data', async () => {
      const res = await request(app)
        .post('/api/students')
        .set('Authorization', `Bearer ${authToken}`)
        .send({
          studentCode: 'HS999',
          fullName: 'Test Student',
          dateOfBirth: '2010-01-01',
          gender: 'Nam'
        });
      
      expect(res.status).toBe(201);
      expect(res.body.success).toBe(true);
      expect(res.body.data.studentCode).toBe('HS999');
    });
    
    it('should return 401 without token', async () => {
      const res = await request(app)
        .post('/api/students')
        .send({});
      
      expect(res.status).toBe(401);
    });
    
    it('should return 400 with invalid data', async () => {
      const res = await request(app)
        .post('/api/students')
        .set('Authorization', `Bearer ${authToken}`)
        .send({
          studentCode: 'HS001' // Duplicate
        });
      
      expect(res.status).toBe(409);
      expect(res.body.error.code).toBe('DUPLICATE_ERROR');
    });
  });
  
  describe('GET /api/students', () => {
    it('should return paginated students', async () => {
      const res = await request(app)
        .get('/api/students?page=1&limit=20')
        .set('Authorization', `Bearer ${authToken}`);
      
      expect(res.status).toBe(200);
      expect(res.body.data.students).toBeInstanceOf(Array);
      expect(res.body.data.pagination).toHaveProperty('total');
    });
    
    it('should filter by gender', async () => {
      const res = await request(app)
        .get('/api/students?gender=Nam')
        .set('Authorization', `Bearer ${authToken}`);
      
      const students = res.body.data.students;
      students.forEach(student => {
        expect(student.gender).toBe('Nam');
      });
    });
  });
});
```

---

#### 4.2.2 Database Integration Tests

```javascript
describe('Database Operations', () => {
  beforeEach(async () => {
    await prisma.student.deleteMany();
    await prisma.score.deleteMany();
  });
  
  it('should cascade delete scores when student deleted', async () => {
    // Create student
    const student = await prisma.student.create({
      data: { studentCode: 'HS001', fullName: 'Test', /* ... */ }
    });
    
    // Create scores
    await prisma.score.create({
      data: { studentId: student.id, subjectId: 1, score: 8.5, /* ... */ }
    });
    
    // Delete student
    await prisma.student.delete({ where: { id: student.id } });
    
    // Verify scores deleted
    const scores = await prisma.score.findMany({ where: { studentId: student.id } });
    expect(scores).toHaveLength(0);
  });
  
  it('should calculate ranking correctly', async () => {
    // Create students with scores
    await createStudentWithScore('HS001', 9.5);
    await createStudentWithScore('HS002', 8.5);
    await createStudentWithScore('HS003', 8.5);
    await createStudentWithScore('HS004', 7.5);
    
    // Update rankings
    await updateStudentRankings(1, '2025-2026');
    
    // Verify rankings
    const students = await prisma.student.findMany({
      orderBy: { rank: 'asc' }
    });
    
    expect(students[0].rank).toBe(1); // 9.5
    expect(students[1].rank).toBe(2); // 8.5 (tied)
    expect(students[2].rank).toBe(2); // 8.5 (tied)
    expect(students[3].rank).toBe(4); // 7.5 (skip rank 3)
  });
});
```

---

### 4.3 Functional Testing

**Scope:** End-to-end user scenarios

#### 4.3.1 Critical User Flows

**Test Suite: Student Management**

| Test Case ID | Test Case | Steps | Expected Result |
|--------------|-----------|-------|-----------------|
| TC-SM-001 | Add new student | 1. Login<br>2. Click "Th√™m HS"<br>3. Fill form<br>4. Click "L∆∞u" | Student created and appears in list |
| TC-SM-002 | Edit student | 1. Click edit icon<br>2. Modify name<br>3. Click "L∆∞u" | Student updated successfully |
| TC-SM-003 | Delete student | 1. Click delete icon<br>2. Confirm | Student removed from list |
| TC-SM-004 | Search student | 1. Type name in search<br>2. Wait | Filtered results shown |
| TC-SM-005 | Restore deleted student | 1. Go to deleted list<br>2. Click restore | Student back in main list |

**Test Suite: Score Management**

| Test Case ID | Test Case | Steps | Expected Result |
|--------------|-----------|-------|-----------------|
| TC-SC-001 | Enter single score | 1. Select subject/type<br>2. Enter score<br>3. Blur field | Score saved with checkmark |
| TC-SC-002 | Batch enter scores | 1. Enter multiple scores<br>2. Click "L∆∞u t·∫•t c·∫£" | All valid scores saved |
| TC-SC-003 | Edit existing score | 1. Click score<br>2. Change value<br>3. Blur | Updated and logged |
| TC-SC-004 | Invalid score | 1. Enter 11<br>2. Blur | Error shown, not saved |
| TC-SC-005 | Auto-calculate average | 1. Enter all scores<br>2. Save | Average updated automatically |

**Test Suite: Rankings**

| Test Case ID | Test Case | Steps | Expected Result |
|--------------|-----------|-------|-----------------|
| TC-RK-001 | View rankings | 1. Go to Rankings | Correct ranking order |
| TC-RK-002 | Tied students | Verify tied students have same rank | Same rank, skip next |
| TC-RK-003 | Export rankings | Click "Xu·∫•t Excel" | Excel file downloaded |

---

### 4.4 UI/UX Testing

**Manual Testing Checklist:**

#### 4.4.1 Login Page
- [ ] Logo displays correctly
- [ ] Form fields are aligned
- [ ] "Show password" toggle works
- [ ] "Remember me" checkbox functions
- [ ] Error messages display for invalid credentials
- [ ] Loading state shows during login
- [ ] Redirects to dashboard on success

#### 4.4.2 Dashboard
- [ ] All stat cards display correct numbers
- [ ] Pie chart renders with correct percentages
- [ ] Bar chart shows all subjects
- [ ] Top 10 list is sorted correctly
- [ ] Charts are responsive
- [ ] Loading skeletons show while fetching

#### 4.4.3 Student List
- [ ] Table displays all columns
- [ ] Search filters results correctly
- [ ] Pagination works (next/prev)
- [ ] "Add Student" modal opens
- [ ] Edit modal pre-fills data
- [ ] Delete shows confirmation
- [ ] Empty state shows when no students

#### 4.4.4 Score Input
- [ ] Dropdowns populate correctly
- [ ] Table shows existing scores
- [ ] Input accepts 0-10, 1 decimal
- [ ] Auto-save shows checkmark
- [ ] Invalid input shows error
- [ ] "L∆∞u t·∫•t c·∫£" button works

#### 4.4.5 Responsive Design
- [ ] Works on 1920x1080 (desktop)
- [ ] Works on 1366x768 (laptop)
- [ ] Works on 1024x768 (tablet landscape)
- [ ] Sidebar collapses on tablet
- [ ] Tables scroll horizontally when needed

---

### 4.5 API Testing

**Postman Collection: Student Management API**

```json
{
  "info": {
    "name": "Student Management API Tests",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Login - Valid Credentials",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/auth/login",
            "body": {
              "username": "teacher01",
              "password": "password123"
            }
          },
          "tests": [
            "pm.test('Status 200', () => pm.response.to.have.status(200));",
            "pm.test('Returns token', () => {",
            "  const json = pm.response.json();",
            "  pm.expect(json.data).to.have.property('token');",
            "  pm.environment.set('token', json.data.token);",
            "});"
          ]
        },
        {
          "name": "Login - Invalid Credentials",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/auth/login",
            "body": {
              "username": "wrong",
              "password": "wrong"
            }
          },
          "tests": [
            "pm.test('Status 401', () => pm.response.to.have.status(401));",
            "pm.test('Error message', () => {",
            "  const json = pm.response.json();",
            "  pm.expect(json.success).to.be.false;",
            "});"
          ]
        }
      ]
    },
    {
      "name": "Students",
      "item": [
        {
          "name": "Create Student - Valid",
          "request": {
            "method": "POST",
            "url": "{{baseUrl}}/api/students",
            "header": {
              "Authorization": "Bearer {{token}}"
            },
            "body": {
              "studentCode": "HS{{$randomInt}}",
              "fullName": "Test Student",
              "dateOfBirth": "2010-01-01",
              "gender": "Nam"
            }
          },
          "tests": [
            "pm.test('Status 201', () => pm.response.to.have.status(201));",
            "pm.test('Returns student', () => {",
            "  const json = pm.response.json();",
            "  pm.expect(json.data).to.have.property('id');",
            "  pm.environment.set('studentId', json.data.id);",
            "});"
          ]
        }
      ]
    }
  ]
}
```

---

### 4.6 Performance Testing

#### 4.6.1 Load Testing Scenarios

**Tool:** k6

```javascript
// load-test.js
import http from 'k6/http';
import { check, sleep } from 'k6';

export let options = {
  stages: [
    { duration: '2m', target: 10 },  // Ramp up to 10 users
    { duration: '5m', target: 10 },  // Stay at 10 users
    { duration: '2m', target: 50 },  // Ramp up to 50 users
    { duration: '5m', target: 50 },  // Stay at 50 users
    { duration: '2m', target: 0 },   // Ramp down
  ],
  thresholds: {
    http_req_duration: ['p(95)<2000'], // 95% requests < 2s
    http_req_failed: ['rate<0.01'],    // Error rate < 1%
  },
};

export default function() {
  const BASE_URL = 'http://localhost:3000/api';
  
  // Login
  const loginRes = http.post(`${BASE_URL}/auth/login`, JSON.stringify({
    username: 'teacher01',
    password: 'password123'
  }), {
    headers: { 'Content-Type': 'application/json' }
  });
  
  check(loginRes, {
    'login status 200': (r) => r.status === 200,
    'login has token': (r) => r.json('data.token') !== ''
  });
  
  const token = loginRes.json('data.token');
  
  // Get students
  const studentsRes = http.get(`${BASE_URL}/students?page=1&limit=20`, {
    headers: { 'Authorization': `Bearer ${token}` }
  });
  
  check(studentsRes, {
    'students status 200': (r) => r.status === 200,
    'students response time < 2s': (r) => r.timings.duration < 2000
  });
  
  sleep(1);
}
```

**Performance Benchmarks:**

| Endpoint | Concurrent Users | Target Response Time | Target Throughput |
|----------|------------------|----------------------|-------------------|
| GET /students | 50 | < 2s (p95) | 100 req/s |
| POST /students | 20 | < 2s (p95) | 50 req/s |
| GET /analytics/dashboard | 50 | < 3s (p95) | 80 req/s |
| POST /scores/batch | 10 | < 5s (p95) | 20 req/s |

---

### 4.7 Security Testing

#### 4.7.1 OWASP Top 10 Checklist

| Vulnerability | Test | Status |
|---------------|------|--------|
| **A01: Broken Access Control** | Try accessing admin endpoints without permission | ‚¨ú |
| **A02: Cryptographic Failures** | Verify passwords are hashed (bcrypt) | ‚¨ú |
| **A03: Injection** | Test SQL injection in search fields | ‚¨ú |
| **A04: Insecure Design** | Verify rate limiting on login | ‚¨ú |
| **A05: Security Misconfiguration** | Check CORS, headers, error messages | ‚¨ú |
| **A06: Vulnerable Components** | Run `npm audit` | ‚¨ú |
| **A07: Auth Failures** | Test weak passwords, session timeout | ‚¨ú |
| **A08: Data Integrity Failures** | Verify JWT signature validation | ‚¨ú |
| **A09: Logging Failures** | Check audit logs are created | ‚¨ú |
| **A10: SSRF** | Test URL inputs for SSRF | ‚¨ú |

#### 4.7.2 Security Test Cases

**Authentication & Authorization:**

```javascript
describe('Security Tests', () => {
  it('should reject requests without token', async () => {
    const res = await request(app).get('/api/students');
    expect(res.status).toBe(401);
  });
  
  it('should reject invalid token', async () => {
    const res = await request(app)
      .get('/api/students')
      .set('Authorization', 'Bearer invalid_token');
    expect(res.status).toBe(401);
  });
  
  it('should reject expired token', async () => {
    const expiredToken = jwt.sign({ id: 1 }, SECRET, { expiresIn: '-1s' });
    const res = await request(app)
      .get('/api/students')
      .set('Authorization', `Bearer ${expiredToken}`);
    expect(res.status).toBe(401);
  });
  
  it('should hash passwords with bcrypt', async () => {
    const user = await prisma.user.findUnique({ where: { id: 1 } });
    expect(user.passwordHash).toMatch(/^\$2[aby]\$.{56}$/);
  });
  
  it('should prevent SQL injection', async () => {
    const res = await request(app)
      .get('/api/students?search=\' OR 1=1 --')
      .set('Authorization', `Bearer ${validToken}`);
    expect(res.status).toBe(200);
    expect(res.body.data.students).toHaveLength(0);
  });
});
```

---

### 4.8 Compatibility Testing

#### 4.8.1 Browser Compatibility Matrix

| Browser | Version | Desktop | Status |
|---------|---------|---------|--------|
| Chrome | Latest (121+) | ‚úÖ | ‚¨ú |
| Firefox | Latest (122+) | ‚úÖ | ‚¨ú |
| Edge | Latest (121+) | ‚úÖ | ‚¨ú |
| Safari | Latest (17+) | ‚úÖ | ‚¨ú |

**Test Checklist per Browser:**
- [ ] Login/Logout works
- [ ] All forms submit correctly
- [ ] Tables render properly
- [ ] Charts display correctly
- [ ] Modals open/close
- [ ] File upload/download works
- [ ] Date picker functions

#### 4.8.2 Screen Resolution Testing

| Resolution | Device | Status |
|------------|--------|--------|
| 1920x1080 | Desktop | ‚¨ú |
| 1366x768 | Laptop | ‚¨ú |
| 1280x720 | Small Laptop | ‚¨ú |
| 1024x768 | Tablet Landscape | ‚¨ú |

---

## 5. Test Cases

### 5.1 Test Case Template

```markdown
**Test Case ID:** TC-XXX-001
**Module:** Module Name
**Feature:** Feature Name
**Priority:** High/Medium/Low
**Type:** Functional/UI/API/Performance

**Preconditions:**
- User is logged in
- Database has test data

**Test Steps:**
1. Navigate to page
2. Click button
3. Fill form
4. Submit

**Expected Result:**
- Action completes successfully
- Success message displays
- Data is saved

**Actual Result:**
(To be filled during execution)

**Status:** Pass/Fail/Blocked
**Tested By:** Tester Name
**Date:** DD/MM/YYYY
**Notes:** Any additional information
```

---

### 5.2 Critical Test Cases

#### TC-AUTH-001: Login with Valid Credentials

**Priority:** High  
**Type:** Functional

**Preconditions:**
- User account exists (username: teacher01, password: password123)

**Steps:**
1. Navigate to login page
2. Enter username: "teacher01"
3. Enter password: "password123"
4. Click "ƒêƒÉng nh·∫≠p"

**Expected Result:**
- User is redirected to Dashboard
- Token is stored in localStorage
- Header shows user name

**Test Data:**
```json
{
  "username": "teacher01",
  "password": "password123"
}
```

---

#### TC-STUDENT-001: Create Student with Valid Data

**Priority:** High  
**Type:** Functional

**Preconditions:**
- User is logged in
- Student code HS999 does not exist

**Steps:**
1. Navigate to Students page
2. Click "Th√™m h·ªçc sinh" button
3. Fill form:
   - M√£ HS: HS999
   - H·ªç t√™n: Nguy·ªÖn VƒÉn Test
   - Ng√†y sinh: 15/05/2010
   - Gi·ªõi t√≠nh: Nam
   - SƒêT: 0912345678
   - Email: test@email.com
4. Click "L∆∞u"

**Expected Result:**
- Modal closes
- Success toast appears
- Student HS999 appears in list
- Database has new record

**SQL Verification:**
```sql
SELECT * FROM students WHERE student_code = 'HS999';
```

---

#### TC-STUDENT-002: Duplicate Student Code

**Priority:** High  
**Type:** Negative

**Preconditions:**
- User is logged in
- Student HS001 already exists

**Steps:**
1. Click "Th√™m h·ªçc sinh"
2. Enter M√£ HS: HS001
3. Fill other fields
4. Click "L∆∞u"

**Expected Result:**
- Error message: "M√£ h·ªçc sinh ƒë√£ t·ªìn t·∫°i"
- Modal remains open
- Student is NOT created

---

#### TC-SCORE-001: Calculate Subject Average Correctly

**Priority:** Critical  
**Type:** Functional

**Preconditions:**
- Student HS001 exists
- Subject To√°n (ID=1) exists

**Steps:**
1. Navigate to Score Input
2. Select M√¥n: To√°n, HK: 1
3. Enter scores for HS001:
   - KTM: 8.0
   - KT15: 9.0
   - KT1T: 8.5
   - THHK: 9.0
4. Save

**Expected Result:**
- Subject average = (8*1 + 9*1 + 8.5*2 + 9*3) / (1+1+2+3) = 8.7
- Database `avg_score` = 8.7

**SQL Verification:**
```sql
SELECT * FROM students WHERE student_code = 'HS001';
-- Should show avg_score = 8.7
```

---

#### TC-RANKING-001: Ranking with Tied Scores

**Priority:** High  
**Type:** Functional

**Test Data:**
- HS001: avg_score = 9.0
- HS002: avg_score = 8.5
- HS003: avg_score = 8.5
- HS004: avg_score = 7.5

**Expected Result:**
- HS001: rank = 1
- HS002: rank = 2
- HS003: rank = 2 (tied)
- HS004: rank = 4 (skip rank 3)

---

#### TC-EXPORT-001: Export Students to Excel

**Priority:** Medium  
**Type:** Functional

**Steps:**
1. Navigate to Students page
2. Click "Xu·∫•t Excel"

**Expected Result:**
- File downloads: DanhSachHS_YYYYMMDD.xlsx
- File contains all student columns
- File opens in Excel without errors
- Data matches database

**Verification:**
- Open file
- Count rows = DB count + 1 (header)
- Verify data accuracy

---

### 5.3 Negative Test Cases

#### TC-NEG-001: Login with Invalid Password

**Steps:**
1. Enter valid username
2. Enter wrong password
3. Click login

**Expected:** Error "M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng"

---

#### TC-NEG-002: Create Student with Invalid Phone

**Steps:**
1. Enter phone: "123456789" (9 digits)
2. Submit

**Expected:** Error "S·ªë ƒëi·ªán tho·∫°i ph·∫£i c√≥ 10 ch·ªØ s·ªë"

---

#### TC-NEG-003: Enter Score > 10

**Steps:**
1. Enter score: 11
2. Blur field

**Expected:** Error "ƒêi·ªÉm ph·∫£i t·ª´ 0 ƒë·∫øn 10"

---

#### TC-NEG-004: Access API without Token

**Steps:**
1. Send GET /api/students without Authorization header

**Expected:** 401 Unauthorized

---

### 5.4 Boundary Value Test Cases

#### TC-BV-001: Score Boundaries

| Input | Expected Result |
|-------|-----------------|
| -0.1 | Invalid |
| 0 | Valid |
| 0.1 | Valid |
| 5.0 | Valid |
| 9.9 | Valid |
| 10.0 | Valid |
| 10.1 | Invalid |
| 11 | Invalid |

---

#### TC-BV-002: Student Name Length

| Input | Length | Expected |
|-------|--------|----------|
| "A" | 1 | Invalid (min 2) |
| "AB" | 2 | Valid |
| "A".repeat(100) | 100 | Valid |
| "A".repeat(101) | 101 | Invalid (max 100) |

---

#### TC-BV-003: Date of Birth Boundaries

| Input | Age | Expected |
|-------|-----|----------|
| Today - 4 years | 4 | Invalid (min 5) |
| Today - 5 years | 5 | Valid |
| Today - 18 years | 18 | Valid |
| Today - 25 years | 25 | Valid |
| Today - 26 years | 26 | Invalid (max 25) |

---

## 6. Test Data

### 6.1 Test Data Requirements

**User Accounts:**

| Username | Password | Role | Purpose |
|----------|----------|------|---------|
| admin | admin123 | admin | Admin testing |
| teacher01 | password123 | teacher | Primary teacher |
| teacher02 | password123 | teacher | Secondary teacher |
| test_user | test123 | teacher | Disposable account |

**Students:**

```json
[
  {
    "studentCode": "HS001",
    "fullName": "Nguy·ªÖn VƒÉn A",
    "dateOfBirth": "2010-01-15",
    "gender": "Nam",
    "avgScore": 8.5
  },
  {
    "studentCode": "HS002",
    "fullName": "Tr·∫ßn Th·ªã B",
    "dateOfBirth": "2010-03-20",
    "gender": "N·ªØ",
    "avgScore": 9.2
  },
  {
    "studentCode": "HS003",
    "fullName": "L√™ VƒÉn C",
    "dateOfBirth": "2010-05-10",
    "gender": "Nam",
    "avgScore": 7.8
  }
]
```

**Subjects:**

```json
[
  { "id": 1, "name": "To√°n", "code": "MATH" },
  { "id": 2, "name": "VƒÉn", "code": "LIT" },
  { "id": 3, "name": "Ti·∫øng Anh", "code": "ENG" }
]
```

**Scores (Sample):**

```json
{
  "studentId": 1,
  "subjectId": 1,
  "semester": 1,
  "schoolYear": "2025-2026",
  "scores": {
    "KTM": [8.0, 8.5],
    "KT15": [9.0],
    "KT1T": [8.5],
    "THHK": [9.0]
  }
}
```

---

### 6.2 Test Data Generation

**Script:** `seed-test-data.js`

```javascript
const { PrismaClient } = require('@prisma/client');
const bcrypt = require('bcrypt');

const prisma = new PrismaClient();

async function seedTestData() {
  // Clean existing data
  await prisma.score.deleteMany();
  await prisma.student.deleteMany();
  await prisma.user.deleteMany();
  
  // Create users
  await prisma.user.createMany({
    data: [
      {
        username: 'teacher01',
        passwordHash: await bcrypt.hash('password123', 10),
        fullName: 'Gi√°o vi√™n 1',
        role: 'teacher'
      },
      {
        username: 'teacher02',
        passwordHash: await bcrypt.hash('password123', 10),
        fullName: 'Gi√°o vi√™n 2',
        role: 'teacher'
      }
    ]
  });
  
  // Create 50 students
  const students = [];
  for (let i = 1; i <= 50; i++) {
    students.push({
      studentCode: `HS${String(i).padStart(3, '0')}`,
      fullName: `H·ªçc sinh ${i}`,
      dateOfBirth: new Date(2010, Math.floor(Math.random() * 12), Math.floor(Math.random() * 28) + 1),
      gender: i % 2 === 0 ? 'Nam' : 'N·ªØ',
      parentPhone: `09${Math.floor(Math.random() * 100000000)}`.substring(0, 10)
    });
  }
  
  await prisma.student.createMany({ data: students });
  
  // Create scores
  const createdStudents = await prisma.student.findMany();
  const subjects = [1, 2, 3]; // To√°n, VƒÉn, Anh
  
  for (const student of createdStudents) {
    for (const subjectId of subjects) {
      // Create random scores
      await prisma.score.createMany({
        data: [
          {
            studentId: student.id,
            subjectId,
            scoreType: 'KTM',
            score: Math.floor(Math.random() * 11),
            semester: 1,
            schoolYear: '2025-2026'
          },
          {
            studentId: student.id,
            subjectId,
            scoreType: 'KT15',
            score: Math.floor(Math.random() * 11),
            semester: 1,
            schoolYear: '2025-2026'
          },
          {
            studentId: student.id,
            subjectId,
            scoreType: 'THHK',
            score: Math.floor(Math.random() * 11),
            semester: 1,
            schoolYear: '2025-2026'
          }
        ]
      });
    }
  }
  
  console.log('Test data seeded successfully');
}

seedTestData();
```

---

### 6.3 Test Data Management

**Environment Variables:**

```env
# Test Database
TEST_DATABASE_URL=postgresql://admin:password@localhost:5432/student_management_test

# Test User
TEST_USERNAME=teacher01
TEST_PASSWORD=password123
```

**Database Reset Script:**

```bash
#!/bin/bash
# reset-test-db.sh

echo "Resetting test database..."

# Drop and recreate database
psql -U admin -c "DROP DATABASE IF EXISTS student_management_test;"
psql -U admin -c "CREATE DATABASE student_management_test;"

# Run migrations
npx prisma migrate deploy --schema=./prisma/schema.prisma

# Seed test data
node scripts/seed-test-data.js

echo "Test database reset complete"
```

---

## 7. Test Environment

### 7.1 Environment Setup

**Development:**
```
URL: http://localhost:3000
Database: PostgreSQL (local)
Frontend: http://localhost:5173
Purpose: Developer testing
```

**Testing/QA:**
```
URL: http://test.studentmanagement.local
Database: PostgreSQL (dedicated test DB)
Purpose: QA team testing
Data: Refreshed daily
```

**Staging:**
```
URL: https://staging.studentmanagement.com
Database: PostgreSQL (production-like)
Purpose: UAT, pre-release testing
Data: Production copy (anonymized)
```

**Production:**
```
URL: https://studentmanagement.com
Database: PostgreSQL (production)
Purpose: Live system
```

---

### 7.2 Test Infrastructure

**Hardware Requirements:**

| Component | Minimum | Recommended |
|-----------|---------|-------------|
| CPU | 2 cores | 4 cores |
| RAM | 4 GB | 8 GB |
| Storage | 20 GB | 50 GB |
| Network | 10 Mbps | 100 Mbps |

**Software Requirements:**

| Software | Version | Purpose |
|----------|---------|---------|
| Node.js | 20.x LTS | Runtime |
| PostgreSQL | 16.x | Database |
| Docker | 24.x | Containerization |
| Chrome | Latest | Browser testing |
| Firefox | Latest | Browser testing |
| Postman | Latest | API testing |
| k6 | Latest | Performance testing |

---

### 7.3 Test Tool Stack

| Tool | Purpose | License |
|------|---------|---------|
| **Jest** | Unit testing (backend) | MIT |
| **Vitest** | Unit testing (frontend) | MIT |
| **React Testing Library** | Component testing | MIT |
| **Supertest** | API integration testing | MIT |
| **Playwright** | E2E testing | Apache 2.0 |
| **Postman** | API testing | Free/Paid |
| **k6** | Load testing | AGPL |
| **OWASP ZAP** | Security testing | Apache 2.0 |
| **SonarQube** | Code quality | LGPL |

---

## 8. Test Schedule

### 8.1 Test Timeline

```
Sprint 1-2: MVP Development (4 weeks)
‚îú‚îÄ Week 1-2: Development
‚îÇ  ‚îî‚îÄ Continuous: Unit testing
‚îú‚îÄ Week 3: Feature complete
‚îÇ  ‚îú‚îÄ Integration testing starts
‚îÇ  ‚îî‚îÄ API testing
‚îî‚îÄ Week 4: Testing & Bug fixes
   ‚îú‚îÄ Functional testing
   ‚îú‚îÄ UI testing
   ‚îî‚îÄ Regression testing

Sprint 3-4: Enhancements (4 weeks)
‚îú‚îÄ Week 5-6: Development
‚îÇ  ‚îî‚îÄ Continuous: Unit testing
‚îú‚îÄ Week 7: Feature complete
‚îÇ  ‚îú‚îÄ Integration testing
‚îÇ  ‚îú‚îÄ Performance testing starts
‚îÇ  ‚îî‚îÄ Security testing
‚îî‚îÄ Week 8: UAT
   ‚îú‚îÄ User acceptance testing
   ‚îú‚îÄ Bug fixes
   ‚îî‚îÄ Final regression

Release Preparation (1 week)
‚îú‚îÄ Smoke testing
‚îú‚îÄ Production verification
‚îî‚îÄ Go-live
```

---

### 8.2 Test Activities by Sprint

**Sprint 1:**
- [x] Setup test infrastructure
- [x] Write unit tests for services
- [x] Write unit tests for components
- [ ] Integration tests for Student API
- [ ] Integration tests for Auth API

**Sprint 2:**
- [ ] Functional testing: Student management
- [ ] Functional testing: Score input
- [ ] UI testing: Login, Dashboard
- [ ] API testing with Postman
- [ ] Regression suite (automated)

**Sprint 3:**
- [ ] Functional testing: Analytics
- [ ] Functional testing: Import/Export
- [ ] Performance testing: Load tests
- [ ] Security testing: OWASP checks
- [ ] Browser compatibility testing

**Sprint 4:**
- [ ] UAT preparation
- [ ] UAT execution
- [ ] Final regression testing
- [ ] Production readiness checks

---

### 8.3 Daily Test Activities

**Daily Standup (9:00 AM):**
- Test progress update
- Blockers discussion
- Today's test plan

**Test Execution (9:30 AM - 5:00 PM):**
- Execute planned test cases
- Log defects
- Retest fixed bugs

**Test Report (5:00 PM):**
- Daily test summary
- Defect status
- Coverage metrics

---

## 9. Defect Management

### 9.1 Defect Lifecycle

```
[New] ‚Üí [Assigned] ‚Üí [In Progress] ‚Üí [Fixed] ‚Üí [Retest] ‚Üí [Closed]
   ‚îÇ                                      ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ[Rejected]‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
   ‚îÇ                                      ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ[Deferred]‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 9.2 Defect Severity & Priority

**Severity Levels:**

| Level | Description | Example |
|-------|-------------|---------|
| **Critical** | System crash, data loss | Login completely broken |
| **High** | Major feature not working | Cannot create students |
| **Medium** | Feature partially working | Search sometimes fails |
| **Low** | Minor issue, workaround exists | UI alignment off by 2px |

**Priority Levels:**

| Level | Description | SLA |
|-------|-------------|-----|
| **P0** | Immediate fix required | 24 hours |
| **P1** | Fix before release | 3 days |
| **P2** | Fix in next sprint | 1 week |
| **P3** | Fix when time permits | Backlog |

---

### 9.3 Defect Report Template

```markdown
**Defect ID:** BUG-001
**Title:** Cannot login with valid credentials
**Severity:** Critical
**Priority:** P0
**Status:** New
**Reported By:** Tester Name
**Assigned To:** Developer Name
**Date Reported:** 31/01/2026

**Environment:**
- OS: Windows 11
- Browser: Chrome 121
- URL: http://localhost:3000

**Steps to Reproduce:**
1. Go to login page
2. Enter username: teacher01
3. Enter password: password123
4. Click "ƒêƒÉng nh·∫≠p"

**Expected Result:**
User is redirected to dashboard

**Actual Result:**
Error message: "Invalid credentials"
User stays on login page

**Screenshots:**
[Attach screenshot]

**Console Logs:**
```
Error: Failed to fetch
  at login (auth.service.js:15)
```

**Additional Notes:**
- Works on Firefox
- Started after commit abc123
```

---

### 9.4 Defect Metrics

**Tracked Metrics:**

| Metric | Description | Target |
|--------|-------------|--------|
| **Defect Density** | Defects per 1000 LOC | < 5 |
| **Defect Removal Efficiency** | % defects found before production | > 95% |
| **Defect Leakage** | % defects found in production | < 5% |
| **Fix Time** | Average time to fix | < 2 days |
| **Reopen Rate** | % defects reopened | < 10% |

---

## 10. Test Deliverables

### 10.1 Test Artifacts

**Planning Phase:**
- [x] Test Plan (this document)
- [x] Test Strategy
- [ ] Test Schedule

**Design Phase:**
- [ ] Test Cases (detailed)
- [ ] Test Data specifications
- [ ] Test Scripts (automated)

**Execution Phase:**
- [ ] Test Execution Reports (daily)
- [ ] Defect Reports
- [ ] Test Logs

**Closure Phase:**
- [ ] Test Summary Report
- [ ] Test Metrics Report
- [ ] Lessons Learned

---

### 10.2 Test Reports

#### 10.2.1 Daily Test Execution Report

```markdown
# Daily Test Report - DD/MM/YYYY

## Summary
- **Total Test Cases:** 150
- **Executed:** 45
- **Passed:** 40
- **Failed:** 5
- **Blocked:** 0
- **Pass Rate:** 88.89%

## Defects
- **New:** 3
- **Fixed:** 2
- **Retest:** 1
- **Total Open:** 8

## Progress
- **Sprint:** 2/4
- **Coverage:** 65%
- **Remaining:** 105 test cases

## Blockers
1. API endpoint /api/scores/batch returns 500
2. Test environment database down

## Next Steps
- Retest fixed bugs
- Continue functional testing
- Start performance testing
```

---

#### 10.2.2 Test Summary Report

```markdown
# Test Summary Report - Sprint 2

## Overview
- **Sprint:** 2
- **Duration:** 2 weeks (15/01 - 28/01)
- **Test Lead:** QA Manager

## Test Execution
- **Planned:** 150 test cases
- **Executed:** 150 (100%)
- **Passed:** 142 (94.67%)
- **Failed:** 8 (5.33%)

## Test Coverage
- **Unit Tests:** 85% code coverage
- **Integration Tests:** 100% API endpoints
- **Functional Tests:** 100% user stories
- **UI Tests:** 80% screens

## Defects Summary
- **Total Found:** 25
- **Critical:** 2 (fixed)
- **High:** 8 (6 fixed, 2 open)
- **Medium:** 10 (8 fixed, 2 open)
- **Low:** 5 (3 fixed, 2 deferred)

## Quality Metrics
- **Defect Density:** 3.2 defects/1000 LOC
- **Defect Removal Efficiency:** 96%
- **Fix Time (Avg):** 1.5 days

## Risks
- **Medium Risk:** Performance testing delayed
- **Low Risk:** Browser compatibility not fully tested

## Recommendations
1. Increase unit test coverage to 90%
2. Add more edge case tests
3. Automate regression suite
4. Performance test in next sprint

## Sign-off
- **QA Lead:** [Signature]
- **Dev Lead:** [Signature]
- **Product Owner:** [Signature]
```

---

## 11. Entry & Exit Criteria

### 11.1 Entry Criteria

**Test Execution can start when:**

- [x] Test Plan approved
- [x] Test environment ready
- [x] Test data prepared
- [x] Code deployed to test environment
- [x] Unit tests passing (>80% coverage)
- [x] Build is stable (no critical bugs)
- [x] Test cases reviewed and approved

---

### 11.2 Exit Criteria

**Test Execution can end when:**

- [ ] All planned test cases executed
- [ ] Pass rate > 95%
- [ ] All critical/high bugs fixed
- [ ] All medium bugs fixed or deferred
- [ ] No P0/P1 bugs open
- [ ] Performance benchmarks met
- [ ] Security tests passed
- [ ] UAT sign-off received
- [ ] Test summary report approved

---

### 11.3 Go-Live Criteria

**Production release approved when:**

- [ ] All exit criteria met
- [ ] Regression suite passing 100%
- [ ] Performance tests show acceptable results
- [ ] Security scan shows no critical issues
- [ ] UAT sign-off completed
- [ ] Deployment plan reviewed
- [ ] Rollback plan prepared
- [ ] Production environment verified
- [ ] Stakeholder approval obtained

---

## 12. Risks & Mitigation

### 12.1 Test Risks

| Risk | Probability | Impact | Severity | Mitigation |
|------|-------------|--------|----------|------------|
| **Insufficient test data** | Medium | High | High | Create automated data generation scripts |
| **Test environment instability** | Medium | High | High | Daily backups, quick restore procedures |
| **Late requirement changes** | High | Medium | High | Agile approach, frequent communication |
| **Lack of automation** | Medium | Medium | Medium | Prioritize critical path automation |
| **Performance issues found late** | Low | High | Medium | Start performance testing early |
| **Browser incompatibility** | Low | Medium | Low | Test on all browsers weekly |
| **Security vulnerabilities** | Low | High | Medium | Regular security scans |
| **Resource unavailability** | Medium | High | High | Cross-train team members |

---

### 12.2 Mitigation Strategies

**For Test Data:**
- Create seed scripts for quick data generation
- Use factories/fixtures in tests
- Maintain separate test database

**For Environment:**
- Use Docker for consistency
- Implement CI/CD for automated deployments
- Monitor environment health

**For Automation:**
- Start with critical paths
- Build reusable components
- Run tests in CI/CD pipeline

**For Communication:**
- Daily standups
- Weekly test status reports
- Slack channel for quick updates

---

## 13. Appendix

### 13.1 Test Automation Framework

**Structure:**
```
tests/
‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îú‚îÄ‚îÄ integration/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îî‚îÄ‚îÄ database/
‚îú‚îÄ‚îÄ e2e/
‚îÇ   ‚îú‚îÄ‚îÄ flows/
‚îÇ   ‚îî‚îÄ‚îÄ pages/
‚îú‚îÄ‚îÄ fixtures/
‚îú‚îÄ‚îÄ helpers/
‚îî‚îÄ‚îÄ config/
```

---

### 13.2 CI/CD Integration

**GitHub Actions Workflow:**

```yaml
# .github/workflows/test.yml
name: Test Suite

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

jobs:
  unit-tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '20'
      - run: npm ci
      - run: npm run test:unit
      - run: npm run test:coverage
      
  integration-tests:
    runs-on: ubuntu-latest
    services:
      postgres:
        image: postgres:16
        env:
          POSTGRES_PASSWORD: password
        options: >-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
    steps:
      - uses: actions/checkout@v3
      - run: npm ci
      - run: npm run test:integration
      
  e2e-tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: npm ci
      - run: npx playwright install
      - run: npm run test:e2e
```

---

### 13.3 Test Cheat Sheet

**Common Commands:**

```bash
# Unit tests
npm run test:unit
npm run test:unit:watch
npm run test:coverage

# Integration tests
npm run test:integration

# E2E tests
npm run test:e2e
npm run test:e2e:headed

# All tests
npm run test:all

# Lint & format
npm run lint
npm run format

# Generate test report
npm run test:report
```

---

### 13.4 Useful Testing Resources

**Documentation:**
- Jest: https://jestjs.io/
- Vitest: https://vitest.dev/
- Playwright: https://playwright.dev/
- React Testing Library: https://testing-library.com/react

**Best Practices:**
- Testing Pyramid: https://martinfowler.com/articles/practical-test-pyramid.html
- FIRST Principles: Fast, Isolated, Repeatable, Self-validating, Timely

**Tools:**
- Test Coverage Viewer: VSCode extension
- REST Client: VSCode extension for API testing

---

### 13.5 Glossary

| Term | Definition |
|------|------------|
| **Regression Testing** | Re-running tests after changes to ensure nothing broke |
| **Smoke Testing** | Quick tests to verify basic functionality |
| **Sanity Testing** | Focused testing after minor changes |
| **UAT** | User Acceptance Testing by end users |
| **E2E** | End-to-End testing of complete user journeys |
| **Mock** | Fake object that simulates real object behavior |
| **Stub** | Predefined response to method calls |
| **Spy** | Records how functions are called |
| **Fixture** | Fixed state used as baseline for tests |
| **Coverage** | Percentage of code executed by tests |

---

**Document Version:** 1.0  
**Last Updated:** 31/01/2026  
**Status:** Ready for Review

---

## Summary

This Test Plan provides:

‚úÖ **Comprehensive Test Strategy** - Pyramid approach, 60-30-10 split  
‚úÖ **Detailed Test Cases** - 20+ critical test cases documented  
‚úÖ **Test Automation** - 80% automation target with tools  
‚úÖ **Performance Benchmarks** - Load testing scenarios with k6  
‚úÖ **Security Testing** - OWASP Top 10 checklist  
‚úÖ **Test Data Management** - Generation scripts and samples  
‚úÖ **Defect Management** - Lifecycle, severity, reporting  
‚úÖ **Test Deliverables** - Reports, metrics, artifacts  
‚úÖ **Entry/Exit Criteria** - Clear go/no-go decisions  
‚úÖ **Risk Mitigation** - Identified risks with strategies  

Ready for QA team execution! üß™
